{"version":3,"sources":["language sync /^/.*/.json$","data/constant.js","contexts/index.tsx","data/config.js","util/styles.tsx","components/atoms/DataLoader.tsx","components/organisms/Sidebar.tsx","util/commonComponent.tsx","components/atoms/CharacterSelect.tsx","components/molecules/CharacterGroup.tsx","components/organisms/CheckComponent.tsx","components/pages/MainPage.tsx","util/function.ts","components/atoms/CharacterResult.tsx","components/atoms/Downloader.tsx","components/atoms/CharacterTableView.tsx","components/molecules/CharacterTable.tsx","components/organisms/ResultManager.tsx","components/pages/ResultPage.tsx","components/pages/BookPage.tsx","components/pages/PersonalPage.tsx","components/atoms/CharacterManifest.tsx","components/pages/ManifestPage.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","ELEMENTS","WEAPONS","STYLES","MANIFEST_STEPS","AnotherContext","createContext","lang","changeLang","word","version","changeVersion","value","inven","setInven","data","addInven","ids","removeInven","manifest","setManifest","changeManifest","level","select_char_data","char_codes","AnotherProvider","children","char_raw","require","useState","window","localStorage","getItem","setLang","setVersion","convert_data","local","split","Number","new_local","a","String","add","filter","includes","from","Array","Set","concat","sort","b","indexOf","style","Provider","setItem","newData","join","parsedData","JAP_VER","JAP_NEW","GLO_NEW","JAP_MANIFEST_NEW","GLO_MANIFEST_NEW","StylemarkStyle","styled","img","PageWrapper","div","ImageWrapper","FlexColumnCenterDiv","GridDiv","TextArea","Input","DataLoaderStyle","DataLoader","useContext","UserData","setUserData","isOld","setIsOld","isModalVisible","setIsModalVisible","onClick","title","visible","onCancel","okButtonProps","display","placeholder","onChange","currentTarget","autoSize","minRows","maxRows","margin","type","jsonString","JSON","stringify","element","document","createElement","file","Blob","href","URL","createObjectURL","download","body","appendChild","click","oldData","parse","trim","Swal","fire","text","width","timer","showConfirmButton","timerProgressBar","customClass","popup","then","location","reload","error","danger","Option","Select","footer","target","rel","a_css","css","SideMenu","Link","SideLink","Sidebar","formatMessage","useIntl","setVisible","path","pathname","replaceAll","check_endpoints","name","dict_endpoints","justifyContent","padding","backgroundColor","position","top","left","right","zIndex","shape","size","icon","UnorderedListOutlined","flexGrow","maxWidth","fontSize","fontWeight","lineHeight","placement","onClose","bodyStyle","flexDirection","end","index","to","color","Group","defaultValue","Button","minWidth","stylemark","src","directButtonLink","endpoint","height","marginTop","emptyImage","image","CharacterSelect","info","className","alt","CharacterGroup","infos","border","borderRadius","CheckComponent","codes","Search","MainPage","Element","setElement","Weapon","setWeapon","SearchName","setSearchName","filtered","toLowerCase","Math","floor","category","gonly","jonly","array","target_chars","new_char_to_top","flexWrap","idx","weapon","enterButton","allowClear","CharacterResult","toUpperCase","sky","Downloader","tag","getElementById","isIOS","isIOS13","isSafari","isMacOs","alert","html2canvas","canvas","toDataURL","replace","Date","now","domtoimage","toJpeg","quality","dataUrl","link","CharacterTableView","have","CharacterTable","overflowX","whiteSpace","slice","idx2","d","ResultManager","alignItems","marginBottom","Panel","Collapse","ResultPage","result_char_data","MyCharacter","renderNo","free","parsedCodes","first","render45","renderCC","tempIds","forEach","change","parsedIds","renderElement","defaultActiveKey","header","length","justify","align","xs","sm","Fragment","textAlign","BookPage","dungeon_link_data","book","columns","dataIndex","key","datasets","undefined","source","book_get","g","find","dataSource","pagination","colors","PersonalPage","person_data","setSearch","setInput","personalities","personality","item","temp","is_extra","description","content","ExclamationOutlined","closable","preventDefault","options","filterOption","inputValue","option","onSelect","onKeyDown","arr","CharacterManifest","maxStep","manifest_jap","manifest_glo","min","currentStep","setCurrentStep","useEffect","percent","newStep","max","MinusOutlined","PlusOutlined","ManifestPage","render_cc_id","get_manifest_status","styles","new_manifest_to_top","manifest_incomplete","steps","manifest_complete","manifestMessage","onConfirm","new_manifests","filtered_manifests","total_manifests","okText","cancelText","announceHTML","App","announceViewed","Boolean","message","removeItem","html","messages","locale","defaultLocale","basename","ReactGA","initialize","pageview","search","ReactDOM","render","StrictMode"],"mappings":"+qpGAAA,IAAIA,EAAM,CACT,YAAa,IACb,YAAa,IACb,YAAa,KAId,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,K,6ovECvBPY,EAAW,CAAE,UAAW,OAAQ,QAAS,OAAQ,QAAS,OAC1DC,EAAW,CAAE,SAAU,QAAS,SAAU,KAAM,QAAS,MAAO,QAAS,SAAU,SAGnFC,EAAW,CAAE,MAAO,KAAM,KAAM,MAGhCC,EAAiB,CAAE,IAAK,eAAM,sB,OCmBrCC,EAAiBC,wBAAc,CACjCC,KAAM,KACNC,WAAY,SAACC,KACbC,QAAS,SACTC,cAAe,SAACC,KAChBC,MAAO,GACPC,SAAU,SAACC,KACXC,SAAU,SAACC,KACXC,YAAa,SAAC7B,KACd8B,SAAU,GACVC,YAAa,SAACL,KACdM,eAAgB,SAACC,EAAejC,KAChCkC,iBAAkB,GAClBC,WAAY,KAOVC,EAAkB,SAAC,GAAsC,IAAD,EAAnCC,EAAmC,EAAnCA,SAGjBC,EAAiCC,EAAQ,KAE/C,EAAwBC,mBAASC,OAAOC,aAAaC,QAAQ,UAAY,MAAzE,mBAAOzB,EAAP,KAAa0B,EAAb,KAQA,EAA8BJ,mBAASC,OAAOC,aAAaC,QAAQ,UAAY,UAA/E,mBAAOtB,EAAP,KAAgBwB,EAAhB,KAQA,EAA0BL,oBAAS,WAAO,IAAD,IAEjCM,EAAeP,EAAQ,KAGvBQ,GAAQ,UAAAN,OAAOC,aAAaC,QAAQ,gBAA5B,eAAsCK,MAAM,KAAKnD,IAAIoD,UAAW,GACxEC,GAAY,UAAAT,OAAOC,aAAaC,QAAQ,oBAA5B,eAA0CK,MAAM,KAAKnD,IAAIoD,UAAWF,EAAMlD,KAAI,SAAAsD,GAAC,uBAAIL,EAAaM,OAAOD,WAAxB,SAAgC,KAG3HE,EAAMf,EAASgB,QAAO,SAAAH,GAAC,OAAID,EAAUK,SAASJ,EAAEnD,OAAKH,KAAI,SAAAsD,GAAC,OAAIA,EAAEK,QAEtE,OAAOC,MAAMD,KAAK,IAAIE,IAAIR,EAAUS,OAAV,MAAAT,EAAS,YAAWG,SAXhD,mBAAO7B,EAAP,KAAcC,EAAd,KA0BA,EAAgCe,oBAAS,UAAAC,OAAOC,aAAaC,QAAQ,gBAA5B,eAAsCK,MAAM,KAAKnD,IAAIoD,UAAW,IAAzG,mBAAOnB,EAAP,KAAiBC,EAAjB,KAYMG,EAAmB,YAAII,GAAUsB,MAAK,SAACT,EAAEU,GAC7C,OAAIV,EAAE7C,OAASuD,EAAEvD,KAAa6C,EAAE7C,KAAOuD,EAAEvD,KAAO,GAAK,EACzCQ,EAAOgD,QAAQX,EAAEY,OAASjD,EAAOgD,QAAQD,EAAEE,UAGnD5B,EAAasB,MAAMD,KAAK,IAAIE,IAAIpB,EAASzC,KAAI,SAAAsD,GAAC,OAAIA,EAAE7C,UAG1D,OACE,cAACU,EAAegD,SAAhB,CACEzC,MAAO,CACLL,OACAC,WAjEa,SAACC,GAClBwB,EAAQxB,GACRqB,OAAOC,aAAauB,QAAQ,QAAS7C,IAgEjCC,UACAC,cA3DgB,SAACD,GACrBwB,EAAWxB,GACXoB,OAAOC,aAAauB,QAAQ,QAAS5C,IA0DjCG,QACAC,WACAE,SA1CW,SAACC,GAChB,IAAMsC,EAAUT,MAAMD,KAAK,IAAIE,IAAJ,sBAAYlC,GAAZ,YAAsBI,MACjDa,OAAOC,aAAauB,QAAQ,YAAaC,EAAQC,KAAK,MACtD1C,EAASyC,IAwCLrC,YAtCc,SAAC7B,GACnB,IAAMkE,EAAU1C,EAAM8B,QAAO,SAAAH,GAAC,OAAIA,IAAMnD,KACxCyC,OAAOC,aAAauB,QAAQ,YAAaC,EAAQC,KAAK,MACtD1C,EAASyC,IAoCLpC,WACAC,cACAC,eAhCiB,SAACC,EAAcjC,GAEpC,IAAMoE,EAAatC,EAASwB,QAAO,SAAAH,GAAC,OAAIA,EAAE,MAAUnD,KAC9CkE,EAAUT,MAAMD,KAAK,IAAIE,IAAJ,sBAAYU,GAAZ,CAA8B,IAANnC,EAAcjC,MACjEyC,OAAOC,aAAauB,QAAQ,QAASC,EAAQC,KAAK,MAClDpC,EAAYmC,IA4BRhC,mBACAC,cAdJ,SAgBGE,K,6FClIIgC,EAAU,UAKVC,EAAU,CAAC,aACXC,EAAU,CAAC,YAAa,aAIxBC,EAAmB,CAAC,GAAG,KACvBC,EAAmB,CAAC,GAAG,ICTvBC,EAAiBC,IAAOC,IAAV,yHASdC,EAAcF,IAAOG,IAAV,wIASXC,EAAeJ,IAAOG,IAAV,qHASZE,EAAsBL,IAAOG,IAAV,qIAMnBG,EAAUN,IAAOG,IAAV,sL,2BC9BZI,EAAaC,IAAbD,SAEFE,EAAkBT,IAAOG,IAAV,qPAcfhC,EAAeP,EAAQ,KA4Gd8C,I,OAAAA,GApGf,WAGI,MAAmDC,qBAAWtE,GAAtDQ,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAUK,EAAzB,EAAyBA,SAAUC,EAAnC,EAAmCA,YAOnC,EAAgCS,mBAAS,IAAzC,mBAAO+C,EAAP,KAAiBC,EAAjB,KACA,EAA0BhD,oBAAS,GAAnC,mBAAOiD,EAAP,KAAcC,EAAd,KACA,EAA4ClD,oBAAS,GAArD,mBAAOmD,EAAP,KAAuBC,EAAvB,KAkEA,OACI,qCACI,cAACR,EAAD,CAAiBS,QAlEP,WACdD,GAAkB,IAiEd,wBACA,eAAC,IAAD,CACIE,MAAM,mBACNC,QAASJ,EACTK,SAlES,WACjBJ,GAAkB,IAkEVK,cAAe,CAAElC,MAAO,CAACmC,QAAS,SAJtC,UAMI,cAAChB,EAAD,CAAUiB,YAAY,gBAAgB5E,MAAOgE,EAC7Ca,SAAU,SAAChG,GAAD,OAAOoF,EAAYpF,EAAEiG,cAAc9E,QAC7C+E,SAAU,CAAEC,QAAS,EAAGC,QAAS,KACjC,uBAAK,uBACL,cAAC,IAAD,CAAUJ,SAAU,kBAAMV,GAAUD,IAApC,kCACA,uBAAK,uBACL,cAAC,IAAD,CAAQ1B,MAAO,CAAC0C,OAAQ,GAAIC,KAAK,UAAUb,QArEtC,WACb,IAAMc,EAAaC,KAAKC,UAAU,CAC9BrF,MAAOA,EACPM,SAAUA,IAERgF,EAAUC,SAASC,cAAc,KACjCC,EAAO,IAAIC,KAAK,CAACP,GAAa,CAACD,KAAM,eAC3CI,EAAQK,KAAOC,IAAIC,gBAAgBJ,GACnCH,EAAQQ,SAAW,aACnBP,SAASQ,KAAKC,YAAYV,GAC1BA,EAAQW,SA2DA,sBACA,cAAC,IAAD,CAAQ1D,MAAO,CAAC0C,OAAQ,GAAIC,KAAK,UAAUb,QAxDtC,WACb,IACI,GAAIJ,EAAO,CACP,IAAMiC,EAAUnC,EAASvC,MAAM,KAAKnD,KAAI,SAAAsD,GAAC,OAAIL,EAAaK,KAAO,KACjEV,OAAOC,aAAauB,QAAQ,YAAayD,EAAQvD,KAAK,MACtD1C,EAASiG,OACN,CACH,IAAMxD,EAAoB0C,KAAKe,MAAMpC,EAASqC,QAE9CnF,OAAOC,aAAauB,QAAQ,YAAaC,EAAQ1C,MAAM2C,KAAK,MAC5D1C,EAASyC,EAAQ1C,OACjBiB,OAAOC,aAAauB,QAAQ,QAASC,EAAQpC,SAASqC,KAAK,MAC3DpC,EAAYmC,EAAQpC,UAExB+F,IAAKC,KAAK,CACNC,KAAM,oBACNC,MAAO,IACPC,MAAO,IACPC,mBAAmB,EACnBC,kBAAkB,EAClBC,YAAa,CACTC,MAAO,WAEZC,MAAK,WACJ7F,OAAO8F,SAASC,YAEtB,MAAOC,GACLZ,IAAKC,KAAK,CACNC,KAAM,kBACNC,MAAO,IACPC,MAAO,IACPC,mBAAmB,EACnBC,kBAAkB,EAClBC,YAAa,CACTC,MAAO,aAsBmDK,QAAM,EAApE,yBCjHRC,GAAWC,IAAXD,OAEFE,GAAS,sDACU,mBAAG1B,KAAK,4BAA4B2B,OAAO,SAASC,IAAI,aAAxD,uBAGnBC,GAAQC,YAAH,kMAWLC,GAAWvE,YAAOwE,IAAPxE,CAAH,4BAAkBqE,IAC1BI,GAAWzE,IAAOxB,EAAV,4DACR6F,IAmHSK,OAzGf,WAGI,IAAQC,EAAkBC,cAAlBD,cACR,EAAqDhE,qBAAWtE,GAAxDE,EAAR,EAAQA,KAAMG,EAAd,EAAcA,QAASF,EAAvB,EAAuBA,WAAYG,EAAnC,EAAmCA,cAMnC,EAA8BkB,oBAAS,GAAvC,mBAAOuD,EAAP,KAAgByD,EAAhB,KACMC,EAAOhH,OAAO8F,SAASmB,SAASC,WAAW,UAAW,IAGtDC,EAAkB,CACpB,CAACC,KAAM,YAAaJ,KAAM,KAC1B,CAACI,KAAM,eAAgBJ,KAAM,WAC7B,CAACI,KAAMP,EAAc,CAACtJ,GAAI,aAAe,UAAWyJ,KAAM,cAIxDK,EAAiB,CACnB,CAACD,KAAMP,EAAc,CAACtJ,GAAI,UAAY,UAAWyJ,KAAM,UACvD,CAACI,KAAMP,EAAc,CAACtJ,GAAI,gBAAkB,UAAWyJ,KAAM,YAGjE,OACE,qCACE,sBACI1F,MAAO,CACHmC,QAAS,OACT6D,eAAgB,SAChBC,QAAS,sBACTC,gBAAiB,UACjBC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,IAVhB,UAaI,cAAC,IAAD,CACI5D,KAAK,UACL6D,MAAM,SACNC,KAAK,QACLC,KAAM,cAACC,EAAA,EAAD,IACN7E,QAAS,kBAAM2D,GAAW,MAE9B,qBAAKzF,MAAO,CAAC4G,SAAU,EAAGC,SAAU,KAAMC,SAAU,GAAIC,WAAY,IAAKC,WAAY,QAArF,iCAIJ,eAAC,IAAD,CACIjF,MAAM,mBACNkC,MAAO,IACPgD,UAAU,OACVC,QAAS,kBAAMzB,GAAW,IAC1BzD,QAASA,EACT8C,OAAQA,GACRqC,UAAW,CAAChF,QAAS,OAAQiF,cAAe,UAPhD,UASI,sBAAKpH,MAAO,CAAC4G,SAAU,EAAGzE,QAAS,OAAQiF,cAAe,UAA1D,UACKvB,EAAgB/J,KAAI,SAACuL,EAAKC,GAAN,OACjB,cAACnC,GAAD,CAAsBoC,GAAIF,EAAI3B,KAAM5D,QAAS,kBAAM2D,GAAW,IAAQzF,MAAO,CAACwH,MAAO9B,IAAO2B,EAAI3B,KAAO,MAAQ,IAA/G,SACK2B,EAAIvB,MADMwB,MAInB,cAAC,IAAD,IACCvB,EAAejK,KAAI,SAACuL,EAAKC,GAAN,OAChB,cAACnC,GAAD,CAAsBoC,GAAIF,EAAI3B,KAAM5D,QAAS,kBAAM2D,GAAW,IAAQzF,MAAO,CAACwH,MAAO9B,IAAO2B,EAAI3B,KAAO,MAAQ,IAA/G,SACK2B,EAAIvB,MADMwB,MAInB,cAAC,IAAD,IACA,cAAC,GAAD,IACA,cAACjC,GAAD,CAAUjC,KAAK,+BAA+B4B,IAAI,aAAaD,OAAO,SAAS/E,MAAO,CAAC8G,SAAU,QAAjG,uBAGA,cAAC,IAAD,IACA,cAACzB,GAAD,CAAUjC,KAAK,2CAA2C4B,IAAI,aAAaD,OAAO,SAAlF,yCAIJ,eAAC9D,EAAD,CAAqBjB,MAAO,CAACiG,QAAS,GAAtC,UACI,yCACA,eAAC,IAAMwB,MAAP,CACIC,aAAcvK,EACdkF,SAAU,SAAChG,GAAD,OAAOe,EAAWf,EAAE0I,OAAOvH,QACrCwC,MAAO,CAAC0C,OAAQ,gBAHpB,UAKI,cAAC,IAAMiF,OAAP,CAAcnK,MAAM,KAApB,iBACA,cAAC,IAAMmK,OAAP,CAAcnK,MAAM,KAApB,iBACA,cAAC,IAAMmK,OAAP,CAAcnK,MAAM,KAApB,oBAEJ,wCACA,eAAC,IAAD,CAAQkK,aAAcpK,EAAS+E,SAAU,SAAC7E,GAAD,OAAmBD,EAAcC,IAAQwC,MAAO,CAAC4H,SAAU,KAApG,UACI,eAAChD,GAAD,CAAQpH,MAAM,SAAd,qBHtIG,WGsIH,OACA,eAACoH,GAAD,CAAQpH,MAAM,WAAd,oBAAiC8C,EAAjC,oB,SC/HPuH,GAAY,SAAClK,GAAD,MACN,QAAfA,EAAKqC,MAAkB,cAACW,EAAD,CAAgBmH,IAAG,0BAAqBnK,EAAKqC,MAA1B,UAA2C,MAU5E+H,GAAmB,SAACC,EAAkBhE,GAAnB,OAC5B,cAAC,IAAD,CAAMuD,GAAIS,EAAV,SACI,cAAC,IAAD,CACIxB,MAAM,QACNxG,MAAO,CACHiI,OAAQ,GACRhE,MAAO,IACP6C,SAAU,SACVC,WAAY,IACZrE,OAAQ,EACRwF,UAAW,OAEfvF,KAAK,UAVT,SAYKqB,OAUAmE,GACT,cAAC,KAAD,CAAOC,MAAM,oBAAoBpI,MAAO,CAAC0C,OAAQ,M,QCdtC2F,GArBiC,SAACC,GAG7C,MAAuC/G,qBAAWtE,GAA3CW,EAAP,EAAOA,SAAUE,EAAjB,EAAiBA,YAAaL,EAA9B,EAA8BA,MAU9B,OACI,eAACuD,EAAD,CAAcc,QAAS,kBATN7F,EASwBqM,EAAKrM,QAR3CwB,EAAM+B,SAASvD,GACd6B,EAAY7B,GAEZ2B,EAAS,CAAC3B,GAAF,mBAASqM,EAAK7I,SAJV,IAACxD,GASjB,UACK4L,GAAUS,GACX,qBAAKC,UAAY9K,EAAM+B,SAAS8I,EAAKrM,IAAe,GAAT,OAAauM,IAAI,SAASV,IAAG,2BAAsBQ,EAAKrM,GAA3B,QAAqCgI,MAAO,SCmBjHwE,GAjCgC,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAGrCnD,EAAkBC,cAAlBD,cAKFiC,GADyB,aAHXjG,qBAAWtE,GAAvBK,QAGoCiD,EAAUC,GAC3BhB,SAASkJ,EAAM,GAAGnM,MAAQ,MAAQ,YAE7D,OACI,eAAC0E,EAAD,CACIjB,MAAO,CACHiE,MAAO,OACPgC,QAAS,kBACTvD,OAAQ,WACRiG,OAAO,aAAD,OAAenB,GACrBoB,aAAc,OANtB,UASI,8BACKrD,EAAc,CAACtJ,GAAIyM,EAAM,GAAGnM,OACpB,QAARiL,EAAgB,mBAAGxH,MAAO,CAACwH,MAAO,OAAlB,wBAA2C,QAEhE,qBAAKxH,MAAO,CAACkI,UAAW,GAAxB,SACKQ,EAAM5M,KAAI,SAAAwM,GAAI,OACX,cAAC,GAAD,gBAAmCA,GAAbA,EAAKrM,aCfhC4M,GAdgC,SAAC,GAAa,IAAZH,EAAW,EAAXA,MAGvCI,EAAQpJ,MAAMD,KAAK,IAAIE,IAAI+I,EAAM5M,KAAI,SAAAsD,GAAC,OAAIA,EAAE7C,UAElD,OACI,cAAC2E,EAAD,UACK4H,EAAMhN,KAAI,SAAAS,GAAI,OACX,cAAC,GAAD,CAAgBmM,MAAOA,EAAMnJ,QAAO,SAAAH,GAAC,OAAIA,EAAE7C,OAASA,MAAYA,SCRxEqI,GAAWC,IAAXD,OACAmE,GAAW3H,IAAX2H,OAuEOC,OAhEf,WAGI,IAAQzD,EAAkBC,cAAlBD,cACR,EAAsChE,qBAAWtE,GAAzCkB,EAAR,EAAQA,iBAAkBb,EAA1B,EAA0BA,QAO1B,EAA8BmB,mBAAS,GAAvC,mBAAOwK,EAAP,KAAgBC,EAAhB,KACA,EAA4BzK,mBAAS,GAArC,mBAAO0K,EAAP,KAAeC,EAAf,KACA,EAAoC3K,mBAAS,IAA7C,mBAAO4K,EAAP,KAAmBC,EAAnB,KAOMC,EAAWpL,EAAiBoB,QAAO,SAAAlD,GAAC,MAAiB,KAAbgN,GAAmB9D,EAAc,CAACtJ,GAAII,EAAEE,OAAOiN,cAAchK,SAAS6J,EAAWG,kBAC9HjK,QAAO,SAAAlD,GAAC,OAAc,IAAV4M,GAAeQ,KAAKC,MAAMrN,EAAEsN,SAAS,MAAMV,KACvD1J,QAAO,SAAAlD,GAAC,OAAa,IAAT8M,GAAcM,KAAKC,MAAMrN,EAAEsN,SAAS,MAAMR,KACtD5J,QAAO,SAAAlD,GACJ,MAAa,aAAViB,GAA8BjB,EAAEuN,OACtBvN,EAAEwN,SAKnB,OCrC2B,SAACC,EAAwBxM,GACpD,IAAMyM,EAAyB,aAAVzM,EAAuBiD,EAAUC,EACtDsJ,EAAMjK,MAAK,SAACT,EAAEU,GAAH,OAAUiK,EAAavK,SAASJ,EAAE7C,OAAa,EAAL,KACrDuN,EAAMjK,MAAK,SAACT,EAAEU,GACV,OAAGiK,EAAavK,SAASJ,EAAE7C,MAChBQ,EAAOgD,QAAQX,EAAEY,OAASjD,EAAOgD,QAAQD,EAAEE,OAE/C,KD4BXgK,CAAgBT,EAAUjM,GAGtB,eAACwD,EAAD,CAAad,MAAO,CAAC6G,SAAU,UAA/B,UACI,sBAAK7G,MAAO,CAACmC,QAAS,OAAQ6D,eAAgB,SAAUiE,SAAU,QAAlE,UACKlC,GAAiB,UAAW,UAC5BA,GAAiB,YAAaxC,EAAc,CAACtJ,GAAI,iBAEtD,eAACgF,EAAD,CAAqBjB,MAAO,CAAC0C,OAAQ,QAArC,UACI,uCACA,sBAAK1C,MAAO,CAACmC,QAAQ,OAAQ8H,SAAU,OAAQjE,eAAe,UAA9D,UACI,cAAC,IAAD,CAAQ0B,aAAc,EAAGrF,SAAU,SAAC7E,GAAD,OAAyC0L,EAAW1L,IAAQwC,MAAO,CAACiE,MAAM,QAASvB,OAAQ,OAA9H,SACK7F,EAASf,KAAI,SAACiH,EAASmH,GAAV,OACV,cAAC,GAAD,CAAQ1M,MAAO0M,EAAf,SAA+B3E,EAAc,CAACtJ,GAAI8G,KAAzBmH,QAGjC,cAAC,IAAD,CAAQxC,aAAc,EAAGrF,SAAU,SAAC7E,GAAD,OAAyC4L,EAAU5L,IAAQwC,MAAO,CAACiE,MAAM,QAASvB,OAAQ,OAA7H,SACK5F,EAAQhB,KAAI,SAACqO,EAAQD,GAAT,OACT,cAAC,GAAD,CAAQ1M,MAAO0M,EAAf,SAA+B3E,EAAc,CAACtJ,GAAIkO,KAAzBD,QAGjC,cAAC,GAAD,CACIlK,MAAO,CAACiE,MAAM,QAASvB,OAAQ,OAC/BN,YAAY,YACZ5E,MAAO6L,EACPhH,SAtCC,SAAChG,GAClBiN,EAAcjN,EAAE0I,OAAOvH,QAsCP4M,aAAW,EACXC,YAAU,UAItB,cAAC,GAAD,CAAgB3B,MAAOa,Q,uCE1CpBe,GAvBiC,SAAChC,GAG7C,IAAQ/C,EAAkBC,cAAlBD,cACAjI,EAAYiE,qBAAWtE,GAAvBK,QAGFyF,EAAUlG,EAAS4M,KAAKC,MAAMpB,EAAKqB,SAAS,KAC5CQ,EAAUrN,EAAQwL,EAAKqB,SAAS,IAEtC,OACI,cAAC,KAAD,CAAS5H,MAAK,UAAKwD,EAAc,CAACtJ,GAAIqM,EAAK/L,QAA7B,OAAqD,QAAf+L,EAAKtI,MAAkB,IAAMsI,EAAKtI,MAAMuK,cAAgB,GAA9F,sCACKhF,EAAc,CAACtJ,GAAIqM,EAAKkC,MAD7B,aACuCjF,EAAc,CAACtJ,GAAIkO,KADxE,SAEI,qBACIrC,IAAG,2BAAsBQ,EAAKrM,GAA3B,QACHuM,IAAI,SACJD,UAAS,UAAgB,WAAVjL,GAAsBgL,EAAKuB,MAAQ,QAAU,GAAnD,YAAyD9G,GAClE/C,MAAO,CAACiE,MAAO,MAAO4C,SAAS,GAAI+B,aAAa,EAAGlG,OAAO,Q,oDCmB3D+H,GA9B+B,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAyB7C,OACI,cAAC,IAAD,CAAQlE,MAAM,QAAQxG,MAAO,CAAEiI,OAAQ,GAAIhE,MAAO,IAAK6C,SAAU,OAAQC,WAAY,IAAKrE,OAAQ,GAAIC,KAAK,UAAUgC,QAAM,EAAC7C,QAxBxG,WACpB,IAAMiB,EAAUC,SAAS2H,eAAeD,GACnC3H,IAEA6H,UAASC,YAAWC,aAAYC,YACjCC,MAAM,2CACNC,KAAYlI,GAASwB,MAAK,SAAS2G,GAC/B,IAAI9L,EAAI4D,SAASC,cAAc,KAC/B7D,EAAEgE,KAAO8H,EAAOC,UAAU,cAAcC,QAAQ,aAAc,sBAC9DhM,EAAEmE,SAAF,WAAiB8H,KAAKC,MAAtB,QACAlM,EAAEsE,YAGN6H,KAAWC,OAAOzI,EAAS,CAAE0I,QAAS,IACrClH,MAAK,SAAUmH,GACb,IAAIC,EAAO3I,SAASC,cAAc,KAClC0I,EAAKpI,SAAL,WAAoB8H,KAAKC,MAAzB,QACAK,EAAKvI,KAAOsI,EACZC,EAAKjI,aAMZ,uBCZOkI,GAnB8C,SAACtD,GAG1D,IAAQ/C,EAAkBC,cAAlBD,cAGF4E,EAASrN,EAAQwL,EAAKqB,SAAS,IAErC,OACI,cAAC,KAAD,CAAS5H,MAAK,UAAKwD,EAAc,CAACtJ,GAAIqM,EAAK/L,QAA7B,OAAqD,QAAf+L,EAAKtI,MAAkB,IAAMsI,EAAKtI,MAAMuK,cAAgB,GAA9F,sCACKhF,EAAc,CAACtJ,GAAIqM,EAAKkC,MAD7B,aACuCjF,EAAc,CAACtJ,GAAIkO,KADxE,SAEI,eAACnJ,EAAD,WACK6G,GAAUS,GACX,qBAAKC,UAAYD,EAAKuD,KAAgB,GAAT,OAAarD,IAAI,SAASV,IAAG,2BAAsBQ,EAAKrM,GAA3B,QAAqCgI,MAAO,WCyDvG6H,OArEf,WAGI,IAAQvG,EAAkBC,cAAlBD,cACR,EAA6ChE,qBAAWtE,GAAhDQ,EAAR,EAAQA,MAAOU,EAAf,EAAeA,iBAAkBb,EAAjC,EAAiCA,QAKjC,EAA4CmB,oBAAS,GAArD,mBAAOmD,EAAP,KAAuBC,EAAvB,KAUA,OACI,qCACI,cAAC,IAAD,CAAQ7B,MAAO,CAAEiI,OAAQ,OAAQhE,MAAO,QAAS6C,SAAU,SAAUC,WAAY,IAAKrE,OAAQ,GAC9FZ,QAXU,WACdD,GAAkB,IAUMc,KAAK,SAAS6D,MAAM,QADxC,wBAEA,eAAC,IAAD,CAAOzE,MAAM,QAAQC,QAASJ,EAAgBK,SARjC,WACjBJ,GAAkB,IAOwDoC,MAAM,MAC5E/B,cAAe,CAAElC,MAAO,CAAEmC,QAAS,SADnC,UAEI,4BAAIoD,EAAc,CAACtJ,GAAI,gBACvB,uBACA,cAAC,GAAD,CAAYyO,IAAI,cAChB,qBAAK1K,MAAO,CAAC0C,OAAO,aAAcqJ,UAAW,UAA7C,SACI,wBAAO/L,MAAO,CAAC4H,SAAU,SAAUlF,OAAQ,SAAUmE,SAAU,SAAUX,gBAAgB,QAAS8F,WAAY,UAAW/P,GAAG,YAA5H,UACI,gCACI,+BACI,oBAAI+D,MAAO,CAACiE,MAAO,MAClBpH,EAASoP,MAAM,GAAGnQ,KAAI,SAACiH,EAASmH,GAAV,OACnB,+BACiB,YAAZnH,EAAwB,mCACrB,mBAAG/C,MAAO,CAAC8G,SAAS,UAApB,0BACE,KACN,qBAAK9G,MAAO,CAACiE,MAAO,IAAK6D,IAAG,0BAAqB/E,EAArB,QAAoCyF,IAAKzF,MAJhEmH,WASrB,gCACKpN,EAAQmP,MAAM,GAAGnQ,KAAI,SAACqO,EAAQD,GAAT,OAClB,+BACI,6BACI,qBAAKlK,MAAO,CAACiE,MAAO,IAAK6D,IAAG,0BAAqBqC,EAArB,QAAmC3B,IAAK2B,MAEvEtN,EAASoP,MAAM,GAAGnQ,KAAI,SAACiH,EAASmJ,GAAV,OACnB,oBAAe3D,WAAY2B,EAAIgC,GAAM,IAAI,EAAI,MAAQ,OAAQlM,MAAO,CAACiG,QAAQ,eAA7E,SACK9H,EAAiBoB,QAAO,SAAAH,GAAC,OAAI8M,EAAK,IAAMzC,KAAKC,MAAMtK,EAAEuK,SAAS,KAAOO,EAAI,IAAM9K,EAAEuK,SAAS,MAC1FpK,QAAO,SAAAH,GAAC,MAAgB,QAAZA,EAAEY,SACdT,QAAO,SAAAlD,GAAC,MAAc,aAAViB,IAAyBjB,EAAEwN,SACvC/N,KAAI,SAACqQ,GAAD,OACD,cAAC,GAAD,6BAAmCA,GAAnC,IAAsCN,KAAMpO,EAAM+B,SAAS2M,EAAElQ,MAApCkQ,EAAElQ,QAL1BiQ,QALRhC,oBCxC1BkC,OATf,WACI,OACI,sBAAKpM,MAAO,CAACmC,QAAQ,OAAQ8H,SAAU,OAAQoC,WAAW,SAAUrG,eAAgB,SAAUsG,aAAc,QAA5G,UACI,cAAC,GAAD,CAAY5B,IAAI,gBAChB,cAAC,GAAD,QCJJ6B,GAAUC,KAAVD,MA6JOE,OAtJf,WAGI,IAAQlH,EAAkBC,cAAlBD,cACR,EAAyDhE,qBAAWtE,GAA5DkB,EAAR,EAAQA,iBAAkBC,EAA1B,EAA0BA,WAAYX,EAAtC,EAAsCA,MAAOH,EAA7C,EAA6CA,QAGvCoP,EAAmB,YAAIvO,GAAkB0B,MAAK,SAAST,EAAGU,GAC9D,OAAOyF,EAAc,CAACtJ,GAAImD,EAAE7C,OAASgJ,EAAc,CAACtJ,GAAI6D,EAAEvD,QAAU,EAC7DgJ,EAAc,CAACtJ,GAAImD,EAAE7C,OAASgJ,EAAc,CAACtJ,GAAI6D,EAAEvD,OAAS,EAAI,KACtEsD,MAAK,SAAST,EAAGU,GAClB,OAAO2J,KAAKC,MAAMtK,EAAEuK,SAAS,IAAMF,KAAKC,MAAM5J,EAAE6J,SAAS,OAMrDgD,EAA+BD,EAAiBnN,QAAO,SAAA+I,GAAI,OAAI7K,EAAM+B,SAAS8I,EAAKrM,OACxFsD,QAAO,SAAAlD,GACJ,MAAa,aAAViB,GAA8BjB,EAAEuN,OACtBvN,EAAEwN,SAIb+C,EAAW,SAACC,GAEd,IAAMC,EAAc1O,EAAWmB,QAAO,SAAAhD,GAAI,OAAKoQ,EAAY7Q,KAAI,SAAAsD,GAAC,OAAIA,EAAE7C,QAAMiD,SAASjD,MAUrF,OANmBmQ,EAAiBnN,QAAO,SAAA+I,GAAI,OAAIwE,EAAYtN,SAAS8I,EAAK/L,OAAS+L,EAAKyE,OAASzE,EAAKuE,OAASA,KACjHtN,QAAO,SAAAlD,GACJ,MAAa,aAAViB,GAA8BjB,EAAEuN,OACtBvN,EAAEwN,SAGD/N,KAAI,SAACwM,EAAMhB,GAAP,OAClB,cAAC,GAAD,gBAAiCgB,GAAXhB,OAKxB0F,EAAW,SAACH,GAEd,IAAMC,EAAc1O,EAAWmB,QAAO,SAAAhD,GAAI,MAAI,YAAAsG,KAAKC,UAAU6J,EAAYpN,QAAO,SAAAH,GAAC,OAAIA,EAAE7C,OAAOA,KAAMT,KAAI,SAAAsD,GAAC,OAAIA,EAAEY,aAU/G,OANmB2M,EAAYpN,QAAO,SAAA+I,GAAI,OAAIwE,EAAYtN,SAAS8I,EAAK/L,OAAS+L,EAAKuE,OAASA,KAC9FtN,QAAO,SAAAlD,GACJ,MAAa,aAAViB,GAA8BjB,EAAEuN,OACtBvN,EAAEwN,SAGD/N,KAAI,SAACwM,EAAMhB,GAAP,OAClB,cAAC,GAAD,gBAAiCgB,GAAXhB,OAKxB2F,EAAW,SAACjN,GAEd,IAAIkN,EAAU,GACdP,EAAYQ,SAAQ,SAAC/N,GACjB8N,EAAUA,EAAQtN,OAAOR,EAAEgO,WAI/B,IAAMC,EAAY3N,MAAMD,KAAK,IAAIE,IAAIuN,IAAU3N,QAAO,SAAAtD,GAAE,OAAKwB,EAAM+B,SAASvD,MAG5E,OAFmByQ,EAAiBnN,QAAO,SAAA+I,GAAI,OAAIA,EAAKtI,QAAQA,GAASqN,EAAU7N,SAAS8I,EAAKrM,OAE/EH,KAAI,SAACwM,EAAMhB,GAAP,OAClB,cAAC,GAAD,gBAAiCgB,GAAXhB,OAKxBgG,EAAgB,SAACvK,GAInB,OAFmB4J,EAAYpN,QAAO,SAAA+I,GAAI,OAAIvF,IAAY0G,KAAKC,MAAMpB,EAAKqB,SAAS,KAAsB,QAAfrB,EAAKtI,SAE7ElE,KAAI,SAACwM,EAAMhB,GAAP,OAClB,cAAC,GAAD,gBAAiCgB,GAAXhB,OAK9B,OACI,eAACxG,EAAD,CAAad,MAAO,CAAC6G,SAAU,UAA/B,UACKkB,GAAiB,IAAK,qBACvB,cAAC,IAAD,CAAS/H,MAAO,CAAC0C,OAAQ,KACzB,cAAC,GAAD,IACA,qBAAKzG,GAAG,cAAR,SACI,eAAC,KAAD,CAAUsR,iBAAkB,CAAC,IAAK,IAAK,IAAK,KAAMvN,MAAO,CAAC8G,SAAU,OAAQC,WAAY,KAAxF,UACI,cAACwF,GAAD,CAAOiB,OAAM,UAAKjI,EAAc,CAACtJ,GAAI,gBAAxB,aAA4C2Q,GAAS,GAAOa,OAA5D,cAAwEb,GAAS,GAAMa,OAAvF,KAAb,SACI,eAAC,KAAD,CAAKC,QAAQ,SAASC,MAAM,SAAS3N,MAAO,CAACsM,aAAa,QAA1D,UACI,cAAC,KAAD,CAAKsB,GAAI,GAAIC,GAAI,EAAjB,SAAoB,2CACpB,cAAC,KAAD,CAAKD,GAAI,GAAIC,GAAI,GAAjB,SAAsBjB,GAAS,KAC/B,cAAC,IAAD,CAAS5M,MAAO,CAAC0C,OAAQ,MACzB,cAAC,KAAD,CAAKkL,GAAI,GAAIC,GAAI,EAAjB,SAAoB,uCACpB,cAAC,KAAD,CAAKD,GAAI,GAAIC,GAAI,GAAjB,SAAsBjB,GAAS,SAN4E,KASnH,cAACL,GAAD,CAAOiB,OAAM,UAAKjI,EAAc,CAACtJ,GAAI,gBAAxB,aAA4C+Q,GAAS,GAAOS,OAA5D,cAAwET,GAAS,GAAMS,OAAvF,KAAb,SACI,eAAC,KAAD,CAAKC,QAAQ,SAASC,MAAM,SAAS3N,MAAO,CAACsM,aAAa,QAA1D,UACI,cAAC,KAAD,CAAKsB,GAAI,GAAIC,GAAI,EAAjB,SAAoB,2CACpB,cAAC,KAAD,CAAKD,GAAI,GAAIC,GAAI,GAAjB,SAAsBb,GAAS,KAC/B,cAAC,IAAD,CAAShN,MAAO,CAAC0C,OAAQ,MACzB,cAAC,KAAD,CAAKkL,GAAI,GAAIC,GAAI,EAAjB,SAAoB,uCACpB,cAAC,KAAD,CAAKD,GAAI,GAAIC,GAAI,GAAjB,SAAsBb,GAAS,SAN4E,KASnH,cAACT,GAAD,CAAOiB,OAAQjI,EAAc,CAACtJ,GAAI,gBAAlC,SACI,cAAC,KAAD,CAAK0R,MAAM,SAASD,QAAQ,SAAS1N,MAAO,CAACkI,UAAW,OAAxD,SACKnL,EAAOkP,MAAM,GAAGnQ,KAAI,SAAAkE,GAAK,OACtB,eAAC,IAAM8N,SAAP,WACI,cAAC,KAAD,CAAKF,GAAI,GAAIC,GAAI,EAAjB,SACI,qBAAK/F,IAAG,0BAAqB9H,EAArB,QAAkCwI,IAAKxI,EAAOiE,MAAM,SAEhE,cAAC,KAAD,CAAK2J,GAAI,GAAIC,GAAI,GAAI7N,MAAO,CAAC+N,UAAW,OAAQzB,aAAa,OAA7D,SACKW,EAASjN,KAEH,OAAVA,EAAiB,cAAC,IAAD,CAASA,MAAO,CAAC0C,OAAQ,MAAS,OAPnC1C,SAHsB,KAevD,cAACuM,GAAD,CAAOiB,OAAQjI,EAAc,CAACtJ,GAAI,gBAAlC,SACKY,EAASoP,MAAM,GAAGnQ,KAAI,SAACiH,EAASmH,GAAV,OACnB,eAAC,KAAD,CAAeyD,MAAM,SAASD,QAAQ,SAAS1N,MAAO,CAACsM,aAAa,OAApE,UACI,eAAC,KAAD,CAAKsB,GAAI,GAAIC,GAAI,EAAjB,UACiB,QAAZ9K,EAAoB,qCACjB,wCAAc,uBACd,kCAAQ,0BACN,KACN,qBAAKyF,IAAKzF,EAAS+E,IAAG,0BAAqB/E,EAArB,QAAoCkB,MAAM,UAEpE,cAAC,KAAD,CAAK2J,GAAI,GAAIC,GAAI,GAAI7N,MAAO,CAAC+N,UAAW,QAAxC,SACKT,EAAcpD,EAAI,KAEV,QAAZnH,EAAoB,cAAC,IAAD,CAAS/C,MAAO,CAAC0C,OAAQ,eAAkB,OAX1DwH,OAFqC,c,UC1InEnB,GAAW3H,IAAX2H,OAiGOiF,OA1Ff,WAGI,IAAQzI,EAAkBC,cAAlBD,cACApH,EAAqBoD,qBAAWtE,GAAhCkB,iBAMF8P,EAA4CzP,EAAQ,KAC1D,EAAoCC,mBAAS,IAA7C,mBAAO4K,EAAP,KAAmBC,EAAnB,KAOMC,EAAWpL,EAAiBoB,QAAO,SAAAlD,GAAC,MAAe,iBAAXA,EAAE6R,QAC/C3O,QAAO,SAAAlD,GAAC,MAAiB,KAAbgN,IACL9D,EAAc,CAACtJ,GAAII,EAAEE,OAArB,WAAkCF,EAAE2D,MAApC,MAA8CwJ,cAAchK,SAAS6J,EAAWG,gBACjFjE,EAAc,CAACtJ,GAAII,EAAE6R,OAAO1E,cAAchK,SAAS6J,EAAWG,kBAG/D2E,EAAU,CACZ,CACEpM,MAAOwD,EAAc,CAACtJ,GAAI,SAC1BmS,UAAW,OACXC,IAAK,OACLV,MAAO,SACP1J,MAAO,KAET,CACElC,MAAOwD,EAAc,CAACtJ,GAAI,UAC1BmS,UAAW,OACXC,IAAK,OACLV,MAAO,SACP1J,MAAO,KAET,CACElC,MAAOwD,EAAc,CAACtJ,GAAI,WAC1BmS,UAAW,SACXC,IAAK,SACLV,MAAO,WAIPW,EAAW/E,EAASzN,KAAI,SAACwM,EAAMhB,GAAP,MAAkB,CAC5CxB,KAAM,eAAC7E,EAAD,WACF,qBAAKuH,IAAI,SAASV,IAAG,2BAAsBQ,EAAKrM,GAA3B,QAAqCgI,MAAO,KACjE,mBAAGjE,MAAqB,KAAbqJ,IAAoB9D,EAAc,CAACtJ,GAAIqM,EAAK/L,OAAxB,WAAqC+L,EAAKtI,MAA1C,MAAoDwJ,cAAchK,SAAS6J,EAAWG,eAAiB,CAClIhC,MAAO,YACP+G,EAFJ,SAGMhJ,EAAc,CAACtJ,GAAIqM,EAAK/L,OAAxB,WAAqC+L,EAAKtI,MAAMuK,cAAhD,UAGV2D,KAAM,mBAAGlO,MAAqB,KAAbqJ,GAAmB9D,EAAc,CAACtJ,GAAIqM,EAAK4F,OAAO1E,cAAchK,SAAS6J,EAAWG,eAAiB,CAClHhC,MAAO,YACP+G,EAFE,SAGDhJ,EAAc,CAACtJ,GAAIqM,EAAK4F,SAE7BM,OAAQ,qBAAKxO,MAAO,CAChBmC,QAAS,OACT6D,eAAgB,SAChBiE,SAAU,QAHN,SAKH3B,EAAKmG,SAAS3S,KAAI,SAAC4S,EAAGpH,GAAJ,YACf,CAAC,eAAM,eAAM,sBAAO9H,SAASkP,GAAK,4BAAgBnJ,EAAc,CAACtJ,GAAIyS,KAA3BpH,GAC1C,mBAAGlE,KAAI,6CAA8B6K,EAAkBU,MAAK,SAAAvP,GAAC,OAAIA,EAAE0G,OAAS4I,YAArE,aAA8B,EAA2C1G,UAAYhD,IAAI,aAAaD,OAAO,SAApH,SACI,cAAC,IAAD,CAAQ/E,MAAO,CAAC8G,SAAU,OAAQpE,OAAQ,OAA1C,SAAmD6C,EAAc,CAACtJ,GAAIyS,OADwDpH,YAO9I,OACI,eAACxG,EAAD,CAAcd,MAAO,CAAC6G,SAAU,QAASwF,WAAY,UAArD,UACI,cAAC,GAAD,CACIrM,MAAO,CAACiE,MAAM,QAASvB,OAAQ,uBAC/BN,YAAW,UAAKmD,EAAc,CAACtJ,GAAI,SAAxB,aAAqCsJ,EAAc,CAACtJ,GAAI,WACnEuB,MAAO6L,EACPhH,SApES,SAAChG,GAClBiN,EAAcjN,EAAE0I,OAAOvH,QAoEf4M,aAAW,EACXC,YAAU,IAEd,cAAC,KAAD,CAAOuE,WAAYN,EAAUH,QAASA,EAAS1H,KAAK,QAAQoI,WAAY,CAAE1I,SAAU,CAAC,UAAW,qB,kDC5FtG2I,GAAS,CAAC,UAAW,UAAW,OAAQ,QAAS,OAAQ,OAAQ,UA4IxDC,OArIf,WAGI,IAAQxJ,EAAkBC,cAAlBD,cAOFyJ,EAAsCxQ,EAAQ,KACpD,EAA4BC,mBAAS,IAArC,mBAAOsK,EAAP,KAAekG,EAAf,KACA,EAA0BxQ,mBAAS,IAAnC,mBAAO2C,EAAP,KAAc8N,EAAd,KAEMC,EAAgB,WAClB,IAAIxR,EAAiB,GAIrB,OAHAqR,EAAY7B,SAAQ,SAAA/N,GAChBzB,EAAOA,EAAKiC,OAAOR,EAAEgQ,gBAElB1P,MAAMD,KAAK,IAAIE,IAAIhC,IAAO7B,KAAI,SAAAsD,GAAC,MACpC,CAAE0G,KAAM1G,EAAI5B,MAAQ+H,EAAc,CAACtJ,GAAImD,SAKvCmK,EAAWyF,EAAYzP,QAAO,SAAA8P,GAChC,IAAIC,GAAO,EAKX,OAJAvG,EAAOoE,SAAQ,SAAArN,IACyB,IAAjCuP,EAAKD,YAAYrP,QAAQD,KACxBwP,GAAO,MAERA,KAoBLnB,EAAU,CACZ,CACEpM,MAAOwD,EAAc,CAACtJ,GAAI,SAC1BmS,UAAW,OACXC,IAAK,OACLV,MAAO,SACP1J,MAAO,KAET,CACElC,MAAOwD,EAAc,CAACtJ,GAAI,gBAC1BmS,UAAW,cACXC,IAAK,cACLV,MAAO,SACP1J,MAAO,KAET,CACElC,MAAO,GACPqM,UAAW,cACXC,IAAK,cACLV,MAAO,WAIPW,EAAW/E,EAASzN,KAAI,SAACwM,EAAMhB,GACnC,MAAO,CACLxB,KAAM,eAAC7E,EAAD,WACF,qBAAKuH,IAAI,SACDV,IAAG,6BAAwBQ,EAAKxC,MAA7B,OAAoCwC,EAAKiH,SAAW,OAAS,GAA7D,QACPvP,MAAO,CAACiE,MAAM,GAAI2E,aAAa,KACnC,4BACKrD,EAAc,CAACtJ,GAAIqM,EAAKxC,QAAUwC,EAAKiH,SAAW,OAAS,SAGpEH,YAAa,cAACnO,EAAD,UACT,8BACGqH,EAAK8G,YAAYtT,KAAI,SAACsD,EAAEkI,GAAH,OAClB,cAAC,KAAD,CAAKtH,MAAO,CAAC0C,OAAQ,OAAQ8E,MAAOsH,GAAOxH,EAAM,GAAjD,SAAkE/B,EAAc,CAACtJ,GAAImD,KAA3BkI,UAIpEkI,YAAalH,EAAKkH,YAAc,cAAC,KAAD,CAASC,QAAS,mBAAGzP,MAAO,CAACwH,MAAO,OAAlB,SAA2Bc,EAAKkH,cAAlD,SAC5B,cAAC,IAAD,CAAQ7M,KAAK,UAAU6D,MAAM,SAAS7B,QAAM,EAAC+B,KAAM,cAACgJ,GAAA,EAAD,QAC1C,SAInB,OACM,eAAC5O,EAAD,CAAcd,MAAO,CAAC6G,SAAU,QAASwF,WAAY,UAArD,UACI,qBAAKrM,MAAO,CAACmC,QAAS,OAAQ0E,SAAU,QAASoD,SAAU,OAAQvH,OAAQ,uBAA3E,SACKqG,EAAOjN,KAAI,SAACsD,EAAGkI,GAAJ,OACR,cAAC,KAAD,CAAKtH,MAAO,CAAC0C,OAAQ,OAAQ8E,MAAOsH,GAAOxH,EAAM,GAAgBqI,UAAQ,EACzEzI,QAAS,SAAC7K,GAvDN,IAACqO,EAwDDrO,EAAEuT,iBAxDDlF,EAyDWtL,EAxD5B6P,EAAUlG,EAAOxJ,QAAO,SAAA8P,GAAI,OAAIA,IAAS3E,OAqD7B,SAKKnF,EAAc,CAACtJ,GAAImD,KALkCkI,QASlE,cAAC,KAAD,CACItH,MAAO,CAAEiE,MAAO,IAAKqI,aAAc,QACnCuD,QAASV,IACT3R,MAAO4D,EACP0O,aAAc,SAACC,EAAYC,GAAb,OACyD,KAA7D,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQxS,MAAM+M,cAAcxK,QAAQgQ,EAAWxF,iBAEnDnI,YAAamD,EAAc,CAACtJ,GAAI,gBAChCoG,SAAU,SAAC7E,GAAD,OAAmB0R,EAAS1R,IACtCyS,SAAU,SAACzS,GACP,IAAMsC,EAAIqP,IAAgB5P,QAAO,SAAAH,GAAC,OAAIA,EAAE5B,MAAM+M,gBAAkB/M,EAAM+M,iBAAezO,KAAI,SAAAsD,GAAC,OAAIA,EAAE0G,QAChGmJ,EAAUvP,MAAMD,KAAK,IAAIE,IAAJ,sBAAYoJ,GAAZ,YAAuBjJ,OAC5CoP,EAAS,KAEbgB,UAzFM,SAAC7T,GACf,IAAOgS,EAAQhS,EAARgS,IACAtJ,EAAW1I,EAAX0I,OACP,GAAW,UAARsJ,EAAiB,CAChB,IAAM8B,EAAMhB,IAAgB5P,QAAO,SAAAH,GAAC,OAAIA,EAAE5B,MAAM+M,cAAc/K,SAASuF,EAAOvH,MAAM+M,kBACjF4F,EAAI1C,OAAS,IACZwB,EAAUvP,MAAMD,KAAK,IAAIE,IAAJ,sBAAYoJ,GAAZ,CAAoBoH,EAAI,GAAGrK,UAChDoJ,EAAS,SAoFb,cAAC,KAAD,CAAON,WAAYN,EAAUH,QAASA,EAAS1H,KAAK,QAAQoI,WAAY,CAAE1I,SAAU,CAAC,UAAW,eAAiBnG,MAAO,CACpH4H,SAAU,W,wCC5DXwI,GAhEmC,SAAC9H,GAG/C,IAAQ/C,EAAkBC,cAAlBD,cACR,EAA8ChE,qBAAWtE,GAAjDc,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,eAAgBX,EAAlC,EAAkCA,QAM5B+S,EAAoB,aAAV/S,EAAuBN,EAAe+C,QAAQuI,EAAKgI,cAAgBtT,EAAe+C,QAAQuI,EAAKiI,cAC/G,EAAsC9R,mBAASgL,KAAK+G,IAAIH,EAAS5G,KAAKC,MAAM3L,EAASwB,QAAO,SAAAH,GAAC,OAAIA,EAAE,MAAUkJ,EAAKrM,MAAI,GAAG,OAAW,GAApI,mBAAOwU,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,WACFN,EAAUI,GAAaC,EAAeL,KAC3C,CAACA,EAASI,IAGb,IAcMjJ,GADyB,aAAVlK,EAAuBmD,EAAmBC,GACpClB,SAAS8I,EAAKrM,IAAM,MAAQ,YAEvD,OACI,eAACgF,EAAD,CACIjB,MAAO,CACHiE,MAAO,OACPgC,QAAS,MACTvD,OAAQ,WACRiG,OAAO,aAAD,OAAenB,GACrBoB,aAAc,OANtB,UASI,8BACKrD,EAAc,CAACtJ,GAAIqM,EAAK/L,OAD7B,IACsC+L,EAAKtI,MAAMuK,cADjD,IAEa,QAAR/C,EAAgB,mBAAGxH,MAAO,CAACwH,MAAO,OAAlB,wBAA2C,QAEhE,eAACxG,EAAD,WACK6G,GAAUS,GACX,qBAAKE,IAAI,SAASV,IAAG,2BAAsBQ,EAAKrM,GAA3B,QAAqCgI,MAAO,QAErE,cAAC,KAAD,CAAU2M,QAAS,IAAIH,EAAYJ,EAASrQ,MAAO,CAACiE,MAAO,SAC3D,sBAAKjE,MAAO,CAACkI,UAAW,EAAGjE,MAAO,MAAO9B,QAAS,OAAQ6D,eAAgB,iBAA1E,UACI,eAAC,IAAOyB,MAAR,WACI,cAAC,IAAD,CAAQ3F,QArCR,WACZ,IAAM+O,EAAUpH,KAAKqH,IAAI,EAAGL,EAAY,GACxCxS,EAAe4S,EAASvI,EAAKrM,IAC7ByU,EAAeG,IAkCyBnK,KAAM,cAACqK,GAAA,EAAD,MAClC,cAAC,IAAD,CAAQjP,QAhCT,WACX,IAAM+O,EAAUpH,KAAK+G,IAAIH,EAASI,EAAY,GAC9CxS,EAAe4S,EAASvI,EAAKrM,IAC7ByU,EAAeG,IA6ByBnK,KAAM,cAACsK,GAAA,EAAD,SAEtC,mBAAGhR,MAAO,CAAC0C,OAAQ,MAAOoE,SAAU,QAApC,SAA8C2J,EAAc,EAAIlL,EAAc,CAACtJ,GAAIe,EAAeyT,KAAiBzT,EAAeyT,YC/D1IlE,GAAUC,KAAVD,MA0IO0E,OAnIf,WAGI,IAAQ1L,EAAkBC,cAAlBD,cACR,EAAoEhE,qBAAWtE,GAAvEQ,EAAR,EAAQA,MAAOM,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,YAAaG,EAAtC,EAAsCA,iBAAkBb,EAAxD,EAAwDA,QAIlDoP,EAAmB,YAAIvO,GAAkB0B,MAAK,SAAST,EAAGU,GAC9D,OAAOyF,EAAc,CAACtJ,GAAImD,EAAE7C,OAASgJ,EAAc,CAACtJ,GAAI6D,EAAEvD,QAAU,EAC7DgJ,EAAc,CAACtJ,GAAImD,EAAE7C,OAASgJ,EAAc,CAACtJ,GAAI6D,EAAEvD,OAAS,EAAI,KACtEsD,MAAK,SAAST,EAAGU,GAClB,OAAO2J,KAAKC,MAAMtK,EAAEuK,SAAS,IAAMF,KAAKC,MAAM5J,EAAE6J,SAAS,OAMrDgD,EAA+BD,EAAiBnN,QAAO,SAAA+I,GAAI,OAAI7K,EAAM+B,SAAS8I,EAAKrM,OACxFsD,QAAO,SAAAlD,GACJ,MAAa,aAAViB,GAA8BjB,EAAEuN,OACtBvN,EAAEwN,SAIbqH,EAAe,WACjB,IAAIhE,EAAU,GAId,OAHAP,EAAYQ,SAAQ,SAAC/N,GACjB8N,EAAUA,EAAQtN,QAAQ,OAADR,QAAC,IAADA,OAAA,EAAAA,EAAGgO,SAAU,OAEnC1N,MAAMD,KAAK,IAAIE,IAAIuN,IAAU3N,QAAO,SAAAtD,GAAE,OAAKwB,EAAM+B,SAASvD,OAI/DkV,EAAsB,SAACpM,GAEzB,GAAItH,EAAM+B,SAASuF,EAAO9I,IAAK,MAAO,KAEtC,GAAqB,OAAjB8I,EAAO/E,MAEP,OAAIkR,IAAe1R,SAASuF,EAAO9I,IAAY,kBACnC,kBAGZ,IAAMmV,EAASzE,EAAYpN,QAAO,SAAAH,GAAC,OAAIA,EAAE7C,OAASwI,EAAOxI,QAAMT,KAAI,SAAAsD,GAAC,OAAIA,EAAEY,SAC1E,OAAKoR,EAAO5R,SAAS,OAKV4R,EAAO5R,SAAS,OAAS4R,EAAO5R,SAAS,MAAQ,KAAO,kBAHxD0R,IAAe1R,SAASuF,EAAO9I,IAAM,kBAAoB,mBAStEsN,EAAWmD,EAAiBnN,QAAO,SAAAlD,GACrC,MAAa,aAAViB,EAAgD,iBAAnBjB,EAAEiU,aACH,iBAAnBjU,EAAEkU,iBVrDa,SAACzG,EAAwBxM,GACxD,IAAMyM,EAAyB,aAAVzM,EAAuBmD,EAAmBC,EAC/DoJ,EAAMjK,MAAK,SAACT,EAAEU,GAAH,OAAUiK,EAAavK,SAASJ,EAAEnD,KAAW,EAAL,KUsDnDoV,CAAoB9H,EAAUjM,GAG9B,IAAMgU,EAAsB/H,EAAShK,QAAO,SAAAH,GAAC,MAAgC,OAA3B+R,EAAoB/R,MACrEG,QAAO,SAAAH,GACJ,IAAMmS,EAAkB,aAAVjU,EAAuBN,EAAe+C,QAAQX,EAAEkR,cAAgBtT,EAAe+C,QAAQX,EAAEmR,cACvG,OAAQxS,EAAS4Q,MAAK,SAAA7O,GAAC,OAAIA,EAAE,MAAUV,EAAEnD,OAAO,GAAW,IAANsV,EAAcnS,EAAEnD,MAEnEuV,EAAoBjI,EAAShK,QAAO,SAAAH,GAAC,MAAgC,OAA3B+R,EAAoB/R,MACnEG,QAAO,SAAAH,GACJ,IAAMmS,EAAkB,aAAVjU,EAAuBN,EAAe+C,QAAQX,EAAEkR,cAAgBtT,EAAe+C,QAAQX,EAAEmR,cACvG,OAAQxS,EAAS4Q,MAAK,SAAA7O,GAAC,OAAIA,EAAE,MAAUV,EAAEnD,OAAO,IAAY,IAANsV,EAAcnS,EAAEnD,MAIpEwV,EAAkB,gCACpB,6BAAKlM,EAAc,CAACtJ,GAAI,uBACvBqV,EAAoBxV,KAAI,SAACwM,EAAMhB,GAAP,OACrB,cAAC,GAAD,gBAAiCgB,GAAXhB,SAgB9B,OACI,eAACxG,EAAD,CAAad,MAAO,CAAC6G,SAAU,UAA/B,UACKkB,GAAiB,IAAK,qBACvB,cAAC,IAAD,CAAS/H,MAAO,CAAC0C,OAAQ,KACzB,cAAC,KAAD,CACIX,MAAO0P,EACPC,UAjBK,WACb,IAAMC,EAAgBL,EAAoBxV,KAAI,SAAAwM,GAE1C,OAAe,KADW,aAAVhL,EAAuBN,EAAe+C,QAAQuI,EAAKgI,cAAgBtT,EAAe+C,QAAQuI,EAAKiI,eACxFjI,EAAKrM,MAE1B2V,EAAqB7T,EAASwB,QAAO,SAAAH,GAAC,OAAKkS,EAAoBxV,KAAI,SAAAwM,GAAI,OAAIA,EAAKrM,MAAIuD,SAASJ,EAAE,QAC/FyS,EAAe,sBAAOD,GAAP,YAA8BD,IACnDjT,OAAOC,aAAauB,QAAQ,QAAS2R,EAAgBzR,KAAK,MAC1DpC,EAAY6T,IAUJC,OAAO,MACPC,WAAW,KAJf,SAMI,cAAC,IAAD,CAAQvL,MAAM,QAAQxG,MAAO,CAAEiI,OAAQ,GAAIhE,MAAO,IAAK6C,SAAU,OAAQC,WAAY,IAAKrE,OAAQ,YAAaC,KAAK,UAAUgC,QAAM,EAApI,yBAEJ,cAACzD,EAAD,UACKoQ,EAAoB7D,OAAS,EAAI6D,EAAoBxV,KAAI,SAAAwM,GAAI,OAAI,cAAC,GAAD,gBAAqCA,GAAbA,EAAKrM,OAAmBkM,KAEtH,eAAC,KAAD,CAAUoF,iBAAkB,CAAC,IAAK,KAAMvN,MAAO,CAAC8G,SAAU,OAAQC,WAAY,KAA9E,UACI,cAAC,GAAD,CAAOyG,OAAO,WAAd,SACI,cAACtM,EAAD,UACKsQ,EAAkB/D,OAAS,EAAI+D,EAAkB1V,KAAI,SAAAwM,GAAI,OAAI,cAAC,GAAD,gBAAqCA,GAAbA,EAAKrM,OAAmBkM,MAFzF,KAK7B,cAAC,GAAD,CAAOqF,OAAQjI,EAAc,CAACtJ,GAAI,oBAAlC,SACKsN,EAAShK,QAAO,SAAAH,GAAC,MAA+B,oBAA3B+R,EAAoB/R,MAA0BtD,KAAI,SAACwM,EAAMhB,GAAP,OACpE,cAAC,GAAD,gBAAiCgB,GAAXhB,OAF6B,KAK3D,cAAC,GAAD,CAAOkG,OAAQjI,EAAc,CAACtJ,GAAI,oBAAlC,SACKsN,EAAShK,QAAO,SAAAH,GAAC,MAA+B,oBAA3B+R,EAAoB/R,MAA0BtD,KAAI,SAACwM,EAAMhB,GAAP,OACpE,cAAC,GAAD,gBAAiCgB,GAAXhB,OAF6B,YC7HrE0K,GAAY,+DACa1R,EADb,gRAgDH2R,OArCf,WAEE,IAAMC,EAAiBC,QAAQzT,OAAOC,aAAaC,QAAQ,eAEnDzB,EAASoE,qBAAWtE,GAApBE,KACFiV,EAAU5T,OAAQ,YAAcrB,EAAf,UAevB,OAbAwT,qBAAU,WACRjS,OAAOC,aAAa0T,WAAW,cAC3BH,GACFpO,IAAKC,KAAK,CACRhC,MAAO,oBACPuQ,KAAMN,GACNtL,KAAM,YACLnC,MAAK,WACN7F,OAAOC,aAAauB,QAAQ,aAAc,aAG7C,CAACgS,IAGF,eAAC,IAAD,CAAcK,SAAUH,EAASI,OAAQrV,EAAMsV,cAAc,KAA7D,UACE,eAAC,IAAD,CAAQC,SAAS,oBAAjB,UACI,cAAC,GAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOhN,KAAK,IAAI3C,QAAS,cAAC,GAAD,MACzB,cAAC,IAAD,CAAO2C,KAAK,UAAU3C,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAO2C,KAAK,SAAS3C,QAAS,cAAC,GAAD,MAC9B,cAAC,IAAD,CAAO2C,KAAK,UAAU3C,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAO2C,KAAK,YAAY3C,QAAS,cAAC,GAAD,YAGzC,cAAC,KAAD,Q,UChDN4P,KAAQC,WAAW,kBACnBD,KAAQE,SAASnU,OAAO8F,SAASmB,SAAWjH,OAAO8F,SAASsO,QAE5DC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,GAAD,QAGJjQ,SAAS2H,eAAe,W","file":"static/js/main.a19bf10e.chunk.js","sourcesContent":["var map = {\n\t\"./en.json\": 285,\n\t\"./jp.json\": 286,\n\t\"./ko.json\": 287\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 284;","// 속성, 무기를 분류할 때 사용하는 array입니다.\r\nexport const ELEMENTS = [ \"element\", \"fire\", \"water\", \"wind\", \"earth\", \"etc\" ]\r\nexport const WEAPONS =  [ \"weapon\", \"sword\", \"katana\", \"ax\", \"lance\", \"bow\", \"fists\", \"hammer\", \"staff\" ]\r\n\r\n// 스타일을 정렬할 때 사용하는 array입니다.\r\nexport const STYLES =   [ \"4.5\", \"ns\", \"as\", \"es\" ]\r\n\r\n// 현현의 순서와 관련된 array로 현현 관련 component에 다양하게 활용될 수 있습니다.\r\nexport const MANIFEST_STEPS = [ \"-\", \"현현\", \"진현현\" ]","import { createContext, useState } from \"react\";\r\nimport { STYLES } from \"../data/constant\";\r\n\r\n/**\r\n * 사이트 전반에 적용되는 context입니다. \r\n * \r\n * @param lang: 언어 정보, 기본값 ko (한국어), 로컬 스토리지에 a_lan으로 저장\r\n * @function changeLang\r\n * \r\n * @param version: 버전 정보, 기본값 global, 로컬 스토리지에 a_ver으로 저장\r\n * @function changeVersion\r\n * \r\n * @param inven: 보유 캐릭터 정보, 로컬 스토리지에 a_inv_new으로 저장\r\n * @function setInven\r\n * @function addInven : 보유 캐릭터 추가 함수\r\n * @function removeInven : 보유 캐릭터 추가 함수\r\n * \r\n * @param manifest: 보유 현현 정보, 진행상황*10000 + id로 저장, 로컬 스토리지에 a_man으로 저장\r\n * @function setManifest\r\n * @function changeManifest\r\n * \r\n * @param select_char_data : 체크 메뉴에서 쓰이는 캐릭터 데이터 배열\r\n * @param char_codes : 전체 캐릭터 코드 배열\r\n * \r\n * @description a_new는 구 버전 체크리스트에서 사용중이었으며 \r\n * 이는 사용자가 캐시를 지우지 않는 한 지우지 않습니다.\r\n */\r\nconst AnotherContext = createContext({\r\n    lang: \"ko\", \r\n    changeLang: (word: string) => {},\r\n    version: \"global\",\r\n    changeVersion: (value: string) => {},\r\n    inven: [] as number[],\r\n    setInven: (data: number[]) => {},\r\n    addInven: (ids : number[]) => {},\r\n    removeInven: (id : number) => {},\r\n    manifest: [] as number[],\r\n    setManifest: (data: number[]) => {},\r\n    changeManifest: (level: number, id: number) => {},\r\n    select_char_data: [] as Array<CharacterInfo>,\r\n    char_codes: [] as string[]\r\n})\r\n\r\ninterface Props {\r\n  children: JSX.Element | JSX.Element[];\r\n}\r\n\r\nconst AnotherProvider = ({ children }: Props): JSX.Element => {\r\n\r\n    // raw character data\r\n    const char_raw: Array<CharacterInfo> = require(\"../data/character.json\")\r\n\r\n    const [lang, setLang] = useState(window.localStorage.getItem(\"a_lan\") || \"ko\");\r\n    const changeLang = (word: string): void => {\r\n      setLang(word);\r\n      window.localStorage.setItem(\"a_lan\", word)\r\n    };\r\n\r\n    \r\n\r\n    const [version, setVersion] = useState(window.localStorage.getItem(\"a_ver\") || \"global\")\r\n    const changeVersion = (version: string): void => {\r\n      setVersion(version);\r\n      window.localStorage.setItem(\"a_ver\", version)\r\n    };\r\n\r\n\r\n\r\n    const [inven, setInven] = useState(() => {\r\n      // 기존 데이터와 현재 데이터를 match시켜주는 데이터\r\n      const convert_data = require(\"../data/old_to_new.json\")\r\n\r\n      // case에 따라서 데이터를 불러옵니다. 구 버전 데이터가 있는 경우 변환합니다.\r\n      const local = window.localStorage.getItem(\"a_inv\")?.split(\",\").map(Number) || [] as number[]\r\n      const new_local = window.localStorage.getItem(\"a_inv_new\")?.split(\",\").map(Number) || local.map(a => convert_data[String(a)] ?? -1 )\r\n\r\n      // from에 있는 캐릭터들은 필요조건이므로 없을 경우 추가시킵니다.\r\n      const add = char_raw.filter(a => new_local.includes(a.id)).map(a => a.from)\r\n\r\n      return Array.from(new Set(new_local.concat(...add)))\r\n    })\r\n    const addInven = (ids: number[]): void => {\r\n      const newData = Array.from(new Set([...inven, ...ids]))\r\n      window.localStorage.setItem(\"a_inv_new\", newData.join(\",\"))\r\n      setInven(newData);\r\n    };\r\n    const removeInven = (id: number): void => {\r\n      const newData = inven.filter(a => a !== id)\r\n      window.localStorage.setItem(\"a_inv_new\", newData.join(\",\"))\r\n      setInven(newData);\r\n    };\r\n\r\n\r\n\r\n    const [manifest, setManifest] = useState(window.localStorage.getItem(\"a_man\")?.split(\",\").map(Number) || [] as number[])\r\n    const changeManifest = (level:number, id: number): void => {\r\n      // 기존 현현 정보를 지우고 새로운 현현 정보를 넣습니다.\r\n      const parsedData = manifest.filter(a => a%10000 !== id)\r\n      const newData = Array.from(new Set([...parsedData, level*10000 + id]))\r\n      window.localStorage.setItem(\"a_man\", newData.join(\",\"))\r\n      setManifest(newData);\r\n    };\r\n\r\n\r\n\r\n    // select_char_data : code 우선, 그 다음 style로 정렬\r\n    const select_char_data = [...char_raw].sort((a,b) => {\r\n      if (a.code !== b.code) return a.code > b.code ? 1 : -1\r\n      else return STYLES.indexOf(a.style) - STYLES.indexOf(b.style)\r\n    })\r\n\r\n    const char_codes = Array.from(new Set(char_raw.map(a => a.code)))\r\n\r\n  \r\n    return (\r\n      <AnotherContext.Provider\r\n        value={{\r\n          lang,\r\n          changeLang,\r\n          version,\r\n          changeVersion,\r\n          inven,\r\n          setInven,\r\n          addInven,\r\n          removeInven,\r\n          manifest,\r\n          setManifest,\r\n          changeManifest,\r\n          select_char_data,\r\n          char_codes\r\n        }}>\r\n        {children}\r\n      </AnotherContext.Provider>\r\n    );\r\n};\r\n  \r\nexport { AnotherContext, AnotherProvider }","// 현재 버전을 저장하는 string 값입니다.\r\nexport const JAP_VER = \"2.13.30\"\r\nexport const GLO_VER = \"2.11.700\"\r\n\r\n// 현재 버전의 신규 캐릭터를 저장하는 array입니다.\r\n// 데이터 파일에서 이름을 찾아 코드로 입력해 주세요.\r\nexport const JAP_NEW = [\"101070101\"]\r\nexport const GLO_NEW = [\"101020041\", \"101000111\"]\r\n\r\n// 현재 버전의 신규 현현을 저장하는 array입니다.\r\n// 데이터 파일에서 이름을 찾아 id로 입력해 주세요.\r\nexport const JAP_MANIFEST_NEW = [17,168]\r\nexport const GLO_MANIFEST_NEW = [11,77]","import styled from \"styled-components\";\r\n\r\n// 캐릭터 아이콘 좌상단에 표시되는 스타일 마크의 styling\r\nexport const StylemarkStyle = styled.img`\r\n    position: absolute;\r\n    width: 30px;\r\n    left: -6px;\r\n    top: -6px;\r\n    z-index: 3;\r\n`\r\n\r\n// 페이지를 감싸는 div element의 기본 styling\r\nexport const PageWrapper = styled.div`\r\n    margin: 70px auto;\r\n    width: 97%;\r\n    padding: 20;\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\n// image를 감싸는 div styling\r\nexport const ImageWrapper = styled.div`\r\n    position: relative;\r\n    width: 60px;\r\n    margin: 3px;\r\n    display: inline-block;\r\n`\r\n\r\n\r\n// 그 외 기본 div styling\r\nexport const FlexColumnCenterDiv = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\nexport const GridDiv = styled.div`\r\n    display: grid;\r\n    padding: 3px;\r\n    gap: 2px 2px;\r\n    grid-template-columns: repeat(auto-fit, minmax(275px, 1fr));\r\n    justify-content: center;\r\n`\r\n\r\n","import { Button, Checkbox, Input, Modal } from 'antd'\r\nimport React, { useContext, useState} from 'react'\r\nimport styled from 'styled-components';\r\nimport Swal from 'sweetalert2';\r\nimport { AnotherContext } from '../../contexts';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst DataLoaderStyle = styled.div`\r\n    text-decoration: none;\r\n    font-size: 16px;\r\n    color: black;\r\n    font-weight: 600;\r\n    &:hover {\r\n        color: #1890ff;\r\n        transition: 0.5s;\r\n        cursor: pointer;\r\n    }\r\n    margin-bottom: 8px;\r\n`\r\n\r\n// 기존 데이터와 현재 데이터를 match시켜주는 데이터\r\nconst convert_data = require(\"../../data/old_to_new.json\")\r\n\r\n/**\r\n * DataLoader\r\n * \r\n * 체크리스트 사이트 데이터를 로컬에 저장하거나 \r\n * 텍스트 데이터를 바탕으로 데이터를 불러옵니다.\r\n */\r\nfunction DataLoader() {\r\n\r\n    // context load\r\n    const { inven, setInven, manifest, setManifest } = useContext(AnotherContext)\r\n    \r\n    /**\r\n     * @param UserData          유저가 입력한 데이터\r\n     * @param isOld             데이터의 구 버전 여부 (2022.5.02 이전)\r\n     * @param isModalVisible    모달의 보임 여부\r\n     */\r\n    const [UserData, setUserData] = useState(\"\")\r\n    const [isOld, setIsOld] = useState(false)\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    // 현재 데이터를 txt 파일로 다운로드\r\n    // https://stackoverflow.com/questions/61237355/how-to-save-my-input-values-to-text-file-with-reactjs\r\n    const dataSave = () => {\r\n        const jsonString = JSON.stringify({\r\n            inven: inven,\r\n            manifest: manifest\r\n        })\r\n        const element = document.createElement(\"a\");\r\n        const file = new Blob([jsonString], {type: 'text/plain'});\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = \"AEdata.txt\";\r\n        document.body.appendChild(element); // Required for this to work in FireFox\r\n        element.click();\r\n    }\r\n\r\n    // 텍스트를 캐시에 저장하고 사이트 데이터를 갱신\r\n    const dataLoad = () => {\r\n        try {\r\n            if (isOld) {\r\n                const oldData = UserData.split(\",\").map(a => convert_data[a] || -1)\r\n                window.localStorage.setItem(\"a_inv_new\", oldData.join(\",\"))\r\n                setInven(oldData)\r\n            } else {\r\n                const newData: SaveData = JSON.parse(UserData.trim())\r\n    \r\n                window.localStorage.setItem(\"a_inv_new\", newData.inven.join(\",\"))\r\n                setInven(newData.inven)\r\n                window.localStorage.setItem(\"a_man\", newData.manifest.join(\",\"))\r\n                setManifest(newData.manifest)\r\n            }\r\n            Swal.fire({\r\n                text: \"Data Load Success\",\r\n                width: 280,\r\n                timer: 2000,\r\n                showConfirmButton: false,\r\n                timerProgressBar: true,\r\n                customClass: {\r\n                    popup: \"alert\",\r\n                },\r\n            }).then(() => {\r\n                window.location.reload()\r\n            })\r\n        } catch (error) {\r\n            Swal.fire({\r\n                text: \"Data Load Error\",\r\n                width: 280,\r\n                timer: 1000,\r\n                showConfirmButton: false,\r\n                timerProgressBar: true,\r\n                customClass: {\r\n                    popup: \"alert\",\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <DataLoaderStyle onClick={showModal}>DataLoader</DataLoaderStyle>\r\n            <Modal \r\n                title=\"Data Copy &#38; Load\" \r\n                visible={isModalVisible} \r\n                onCancel={handleCancel}\r\n                okButtonProps={{ style: {display: 'none'} }}\r\n            >\r\n                <TextArea placeholder=\"New data here\" value={UserData}\r\n                onChange={(e) => setUserData(e.currentTarget.value)}\r\n                autoSize={{ minRows: 4, maxRows: 4 }}/>\r\n                <br/><br/>\r\n                <Checkbox onChange={() => setIsOld(!isOld)}>Old Data (~22.05.02)</Checkbox>\r\n                <br/><br/>\r\n                <Button style={{margin: 5}} type=\"primary\" onClick={dataSave}>SAVE TXT</Button>\r\n                <Button style={{margin: 5}} type=\"primary\" onClick={dataLoad} danger>LOAD</Button>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DataLoader\r\n","import { UnorderedListOutlined } from '@ant-design/icons';\r\nimport { Button, Drawer, Radio, Select, Divider } from 'antd';\r\nimport React, { useContext, useState } from 'react'\r\nimport { useIntl } from 'react-intl';\r\nimport { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport { AnotherContext } from '../../contexts';\r\nimport { GLO_VER, JAP_VER } from '../../data/config';\r\nimport { FlexColumnCenterDiv } from '../../util/styles';\r\nimport DataLoader from '../atoms/DataLoader';\r\n\r\nconst { Option } = Select;\r\n\r\nconst footer = <div>\r\n    &copy; 2022. Made By <a href=\"https://github.com/HU-Lee\" target=\"_blank\" rel=\"noreferrer\">HU-Lee</a>\r\n</div>\r\n\r\nconst a_css = css`\r\n    text-decoration: none;\r\n    font-size: 16px;\r\n    color: black;\r\n    font-weight: 600;\r\n    &:hover {\r\n        color: #1890ff;\r\n        transition: 0.5s;\r\n    }\r\n`\r\n\r\nconst SideMenu = styled(Link)`${a_css}`\r\nconst SideLink = styled.a`\r\n    ${a_css}\r\n    font-size: 13px;\r\n`\r\n\r\n/**\r\n * Sidebar\r\n * \r\n * 메뉴를 표시하는 사이드바입니다.\r\n * 사이트 제목과 메뉴 버튼은 상단에 고정됩니다.\r\n */\r\nfunction Sidebar() {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { lang, version, changeLang, changeVersion } = useContext(AnotherContext)\r\n\r\n    /**\r\n     * @param visible: 사이드바의 표시 여부\r\n     * @param path: 현재 주소. 사이드바 메뉴를 강조할 때 참조한다.\r\n     */\r\n    const [visible, setVisible] = useState(false);\r\n    const path = window.location.pathname.replaceAll(\"/aetest\", \"\")\r\n\r\n    // 체크 관련 메뉴 옵션\r\n    const check_endpoints = [\r\n        {name: \"Checklist\", path: \"/\"},\r\n        {name: \"My Character\", path: \"/result\"},\r\n        {name: formatMessage({id: \"manifest\"}) + \" (Beta)\", path: \"/manifest\"}\r\n    ]\r\n\r\n    // 검색 관련 메뉴 옵션\r\n    const dict_endpoints = [\r\n        {name: formatMessage({id: \"books\"}) + \" (Beta)\", path: \"/books\"},\r\n        {name: formatMessage({id: \"personality\"}) + \" (Beta)\", path: \"/person\"}\r\n    ]\r\n\r\n    return (\r\n      <>\r\n        <div \r\n            style={{\r\n                display: \"flex\", \r\n                justifyContent: \"center\", \r\n                padding: \"10px 20px 10px 20px\", \r\n                backgroundColor: \"#E1F6FF\",\r\n                position: 'fixed',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                zIndex: 99\r\n            }}\r\n        >\r\n            <Button \r\n                type=\"primary\" \r\n                shape='circle'\r\n                size='large'\r\n                icon={<UnorderedListOutlined/>} \r\n                onClick={() => setVisible(true)}\r\n            />\r\n            <div style={{flexGrow: 1, maxWidth: 1300, fontSize: 20, fontWeight: 600, lineHeight: \"40px\"}}>\r\n                AE Check &#38; Tools\r\n            </div>\r\n        </div>\r\n        <Drawer \r\n            title=\"AE Check &#38; Tools\"\r\n            width={250}\r\n            placement=\"left\" \r\n            onClose={() => setVisible(false)} \r\n            visible={visible} \r\n            footer={footer}\r\n            bodyStyle={{display: 'flex', flexDirection: 'column'}}\r\n        >\r\n            <div style={{flexGrow: 1, display: 'flex', flexDirection: \"column\"}}>\r\n                {check_endpoints.map((end, index) => (\r\n                    <SideMenu key={index} to={end.path} onClick={() => setVisible(false)} style={{color: path===end.path ? \"red\" : \"\"}}>\r\n                        {end.name}\r\n                    </SideMenu>\r\n                ))}\r\n                <Divider/>\r\n                {dict_endpoints.map((end, index) => (\r\n                    <SideMenu key={index} to={end.path} onClick={() => setVisible(false)} style={{color: path===end.path ? \"red\" : \"\"}}>\r\n                        {end.name}\r\n                    </SideMenu>\r\n                ))}\r\n                <Divider/>\r\n                <DataLoader/>\r\n                <SideLink href=\"https://aecheck.tistory.com/\" rel=\"noreferrer\" target=\"_blank\" style={{fontSize: \"16px\"}}>\r\n                    Info Blog\r\n                </SideLink>\r\n                <Divider/>\r\n                <SideLink href=\"https://hu-lee.github.io/anotherdungeon/\" rel=\"noreferrer\" target=\"_blank\">\r\n                    Another Dungeon (Unused)\r\n                </SideLink>\r\n            </div>          \r\n            <FlexColumnCenterDiv style={{padding: 3}}>\r\n                <b>Language</b>\r\n                <Radio.Group \r\n                    defaultValue={lang} \r\n                    onChange={(e) => changeLang(e.target.value)}\r\n                    style={{margin: \"5px 0 15px 0\"}}\r\n                >\r\n                    <Radio.Button value=\"ko\">KOR</Radio.Button>\r\n                    <Radio.Button value=\"jp\">JAP</Radio.Button>\r\n                    <Radio.Button value=\"en\">ENG</Radio.Button>\r\n                </Radio.Group>\r\n                <b>Version</b>\r\n                <Select defaultValue={version} onChange={(value: string) => changeVersion(value)} style={{minWidth: 100}}>\r\n                    <Option value=\"global\">GLOBAL ({GLO_VER})</Option>\r\n                    <Option value=\"japanese\">JAPAN ({JAP_VER})</Option>\r\n                </Select>\r\n            </FlexColumnCenterDiv>\r\n        </Drawer>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default Sidebar","import { Button, Empty } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { StylemarkStyle } from \"./styles\";\r\n\r\n/**\r\n * stylemark\r\n * \r\n * 캐릭터 아이콘 좌상단에 표시되는 스타일 마크\r\n * @param data : 해당하는 캐릭터의 json data\r\n */ \r\nexport const stylemark = (data: CharacterInfo) => (\r\n    data.style !== \"4.5\" ? <StylemarkStyle src={`images/category/${data.style}.png`}/> : null\r\n)\r\n\r\n/**\r\n * directButtonLink\r\n * \r\n * 페이지 상단에 배치하여 페이지 간 이동을 편하게 할 링크 버튼\r\n * @param endpoint : 목표 페이지의 endpoint\r\n * @param text : 버튼에 적을 문구\r\n */ \r\nexport const directButtonLink = (endpoint: string, text: string) => (\r\n    <Link to={endpoint}>\r\n        <Button \r\n            shape='round' \r\n            style={{ \r\n                height: 45, \r\n                width: 220, \r\n                fontSize: \"1.5rem\", \r\n                fontWeight: 600, \r\n                margin: 5,\r\n                marginTop: \"5px\"\r\n            }} \r\n            type=\"primary\" \r\n        >\r\n            {text}\r\n        </Button>\r\n    </Link>\r\n)\r\n\r\n/**\r\n * emptyImage\r\n * \r\n * 데이터가 없을 때 표시할 이미지\r\n */ \r\nexport const emptyImage = (\r\n    <Empty image=\"images/nodata.png\" style={{margin: 20}}/>\r\n)","import React, { useContext } from 'react'\r\nimport { AnotherContext } from '../../contexts'\r\nimport { stylemark } from '../../util/commonComponent'\r\nimport { ImageWrapper } from '../../util/styles'\r\n\r\n/**\r\n * CharacterSelect\r\n * Checklist에서 캐릭터를 선택할 수 있는 Component입니다.\r\n * \r\n * @param info  해당하는 캐릭터의 json data\r\n */\r\nconst CharacterSelect:React.FC<CharacterInfo> = (info) => {\r\n\r\n    // context load\r\n    const {addInven, removeInven, inven} = useContext(AnotherContext)\r\n\r\n    const toggleInven = (id: number) => {\r\n        if(inven.includes(id)) \r\n            removeInven(id)\r\n        else {\r\n            addInven([id, ...info.from])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ImageWrapper onClick={() => toggleInven(info.id)}>\r\n            {stylemark(info)}\r\n            <img className={!inven.includes(info.id) ? \"gray\" : \"\"} alt=\"select\" src={`images/character/${info.id}.png`} width={60}/>\r\n        </ImageWrapper>\r\n    )\r\n}\r\n\r\nexport default CharacterSelect\r\n","import React, { useContext } from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { AnotherContext } from '../../contexts'\r\nimport { GLO_NEW, JAP_NEW } from '../../data/config'\r\nimport { FlexColumnCenterDiv } from '../../util/styles'\r\nimport CharacterSelect from '../atoms/CharacterSelect'\r\n\r\n/**\r\n * CharacterGroup\r\n * Checklist의 캐릭터별 Component입니다.\r\n * \r\n * @param infos  해당하는 캐릭터의 json data array\r\n */\r\nconst CharacterGroup:React.FC<CharInfoProps> = ({infos}) => {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { version } = useContext(AnotherContext)\r\n\r\n    // 새로 나온 캐릭터 강조표시\r\n    const target_chars = version===\"japanese\" ? JAP_NEW : GLO_NEW\r\n    const color = target_chars.includes(infos[0].code) ? \"red\" : \"lightblue\"\r\n\r\n    return (\r\n        <FlexColumnCenterDiv\r\n            style={{\r\n                width: \"100%\",\r\n                padding: \"5px 2px 5px 2px\", \r\n                margin: '1px auto', \r\n                border: `2px solid ${color}`,\r\n                borderRadius: \"5px\"\r\n            }}\r\n        >\r\n            <b>\r\n                {formatMessage({id: infos[0].code})}\r\n                {color===\"red\" ? <b style={{color: \"red\"}}> (Update!)</b> : null}\r\n            </b>    \r\n            <div style={{marginTop: 3}}>               \r\n                {infos.map(info => (\r\n                    <CharacterSelect key={info.id} {...info}/>\r\n                ))}\r\n            </div>         \r\n        </FlexColumnCenterDiv>\r\n    )\r\n}\r\n\r\nexport default CharacterGroup\r\n","import React from 'react'\r\nimport { GridDiv } from '../../util/styles'\r\nimport CharacterGroup from '../molecules/CharacterGroup'\r\n\r\n/**\r\n * CheckComponent\r\n * MainPage의 필터를 제외한 체크리스트 부분 Component입니다.\r\n * \r\n * @param infos  해당하는 캐릭터의 json data array\r\n */\r\nconst CheckComponent:React.FC<CharInfoProps> = ({infos}) => {\r\n\r\n    // character code만 추출한 배열\r\n    const codes = Array.from(new Set(infos.map(a => a.code)))\r\n\r\n    return (\r\n        <GridDiv>\r\n            {codes.map(code => (\r\n                <CharacterGroup infos={infos.filter(a => a.code === code)} key={code}/>\r\n            ))}\r\n        </GridDiv>\r\n    )\r\n}\r\n\r\nexport default CheckComponent\r\n\r\n","import { Select, Input } from 'antd'\r\nimport React, { useContext, useState } from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { AnotherContext } from '../../contexts'\r\nimport { ELEMENTS, WEAPONS } from '../../data/constant'\r\nimport { directButtonLink } from '../../util/commonComponent'\r\nimport { new_char_to_top } from '../../util/function'\r\nimport { FlexColumnCenterDiv, PageWrapper } from '../../util/styles'\r\nimport CheckComponent from '../organisms/CheckComponent'\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\n/**\r\n * MainPage\r\n * \r\n * 가장 처음 보게 되는 페이지로, Checklist가 표시됩니다. \r\n */\r\nfunction MainPage() {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { select_char_data, version } = useContext(AnotherContext)\r\n\r\n    /**\r\n     * @param Element: 선택한 속성\r\n     * @param Weapon : 선택한 무기\r\n     * @param SearchName : 캐릭터 검색어\r\n     */\r\n    const [Element, setElement] = useState(0)\r\n    const [Weapon, setWeapon] = useState(0)\r\n    const [SearchName, setSearchName] = useState(\"\")\r\n\r\n    const HandleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchName(e.target.value);\r\n    }\r\n\r\n    // 설정값에 따라 데이터를 filter\r\n    const filtered = select_char_data.filter(e => SearchName===\"\" || formatMessage({id: e.code}).toLowerCase().includes(SearchName.toLowerCase()))\r\n    .filter(e => Element===0 || Math.floor(e.category/10)===Element)\r\n    .filter(e => Weapon===0 || Math.floor(e.category%10)===Weapon)\r\n    .filter(e => {\r\n        if(version===\"japanese\") return !e.gonly\r\n        else return !e.jonly\r\n    })\r\n\r\n    new_char_to_top(filtered, version)\r\n\r\n    return (\r\n        <PageWrapper style={{maxWidth: \"1400px\"}}>\r\n            <div style={{display: \"flex\", justifyContent: \"center\", flexWrap: \"wrap\"}}>\r\n                {directButtonLink(\"/result\", \"Result\")}\r\n                {directButtonLink(\"/manifest\", formatMessage({id: \"manifest\"}))}\r\n            </div>\r\n            <FlexColumnCenterDiv style={{margin: \"15px\"}}>\r\n                <b>Filter</b>\r\n                <div style={{display:\"flex\", flexWrap: \"wrap\", justifyContent:\"center\"}}>\r\n                    <Select defaultValue={0} onChange={(value: React.SetStateAction<number>) => setElement(value)} style={{width:\"120px\", margin: \"5px\"}}>\r\n                        {ELEMENTS.map((element, idx) => (\r\n                            <Option value={idx} key={idx}>{formatMessage({id: element})}</Option>\r\n                        ))}\r\n                    </Select>\r\n                    <Select defaultValue={0} onChange={(value: React.SetStateAction<number>) => setWeapon(value)} style={{width:\"120px\", margin: \"5px\"}}>\r\n                        {WEAPONS.map((weapon, idx) => (\r\n                            <Option value={idx} key={idx}>{formatMessage({id: weapon})}</Option>\r\n                        ))}\r\n                    </Select>\r\n                    <Search \r\n                        style={{width:\"250px\", margin: \"5px\"}} \r\n                        placeholder=\"Search...\" \r\n                        value={SearchName} \r\n                        onChange={HandleChange}\r\n                        enterButton\r\n                        allowClear\r\n                    />\r\n                </div>\r\n            </FlexColumnCenterDiv>\r\n            <CheckComponent infos={filtered}/>\r\n        </PageWrapper>\r\n    )\r\n}\r\n\r\nexport default MainPage\r\n","import { GLO_MANIFEST_NEW, GLO_NEW, JAP_MANIFEST_NEW, JAP_NEW } from \"../data/config\";\r\nimport { STYLES } from \"../data/constant\";\r\n\r\n\r\n/*\r\n--------------------------------------------\r\n            Sorting Function\r\n--------------------------------------------\r\n*/\r\n\r\n// 버전의 신 캐릭터를 맨 앞으로 보내도록 sort\r\nexport const new_char_to_top = (array: CharacterInfo[], version: string) => {\r\n    const target_chars = version===\"japanese\" ? JAP_NEW : GLO_NEW\r\n    array.sort((a,b) => !target_chars.includes(a.code) ? 1 : -1)\r\n    array.sort((a,b) => {\r\n        if(target_chars.includes(a.code)) {\r\n            return STYLES.indexOf(a.style) - STYLES.indexOf(b.style)\r\n        }\r\n        return 0\r\n    })\r\n}\r\n\r\n// 버전의 신 현현 캐릭터를 맨 앞으로 보내도록 sort\r\nexport const new_manifest_to_top = (array: CharacterInfo[], version: string) => {\r\n    const target_chars = version===\"japanese\" ? JAP_MANIFEST_NEW : GLO_MANIFEST_NEW\r\n    array.sort((a,b) => !target_chars.includes(a.id) ? 1 : -1)\r\n}","import { Tooltip } from 'antd'\r\nimport React, { useContext } from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { AnotherContext } from '../../contexts'\r\nimport { ELEMENTS, WEAPONS } from '../../data/constant'\r\n\r\n/**\r\n * CharacterResult\r\n * My Character의 결과를 나타내는 Component입니다.\r\n * \r\n * @param info  해당하는 캐릭터의 json data\r\n */\r\nconst CharacterResult:React.FC<CharacterInfo> = (info) => {\r\n    \r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { version } = useContext(AnotherContext)\r\n\r\n    // Tooltip과 View에 표시하기 위해 속성과 무기 값을 추출\r\n    const element = ELEMENTS[Math.floor(info.category/10)]\r\n    const weapon =  WEAPONS[info.category%10]\r\n\r\n    return (\r\n        <Tooltip title={`${formatMessage({id: info.code})}${info.style !== \"4.5\" ? \" \" + info.style.toUpperCase() : \"\"}\r\n                       - ${formatMessage({id: info.sky})}, ${formatMessage({id: weapon})}`}>\r\n            <img \r\n                src={`images/character/${info.id}.png`} \r\n                alt=\"result\" \r\n                className={ `${version===\"global\" && info.jonly ? \"trans\" : \"\"} ${element}`}\r\n                style={{width: \"18%\", maxWidth:65, borderRadius:3, margin:1 }}\r\n            />\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\nexport default CharacterResult\r\n","import { Button } from 'antd'\r\nimport React from 'react'\r\nimport domtoimage from 'dom-to-image';\r\nimport html2canvas from 'html2canvas';\r\nimport { isIOS, isIOS13, isMacOs, isSafari } from 'react-device-detect';\r\n\r\ninterface DownloaderProps {\r\n    tag: string;\r\n}\r\n\r\n/**\r\n * Downloader\r\n * \r\n * 특정 태그가 달린 div 영역을 이미지로 다운로드할 수 있게 합니다.\r\n * 일부 기기에서 동작하지 않을 수도 있습니다.\r\n * \r\n * @param tag\r\n */\r\nconst Downloader: React.FC<DownloaderProps> = ({ tag }) => {\r\n\r\n    const handleSaveClick = () => {\r\n        const element = document.getElementById(tag)\r\n        if (!element) return;\r\n        // ios의 경우 html2canvas, 아닐 경우 domtoimage를 이용\r\n        if ( isIOS || isIOS13 || isSafari || isMacOs) {\r\n            alert('alternative Downloader for iOS & Safari')\r\n            html2canvas(element).then(function(canvas) {\r\n                let a = document.createElement('a');\r\n                a.href = canvas.toDataURL(\"image/jpeg\").replace(\"image/jpeg\", \"image/octet-stream\")\r\n                a.download = `c${Date.now()}.png`;\r\n                a.click();\r\n            })\r\n        } else {\r\n            domtoimage.toJpeg(element, { quality: 1 })\r\n            .then(function (dataUrl) {\r\n               var link = document.createElement('a');\r\n               link.download = `c${Date.now()}.png`;\r\n               link.href = dataUrl;\r\n               link.click();\r\n           });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Button shape='round' style={{ height: 35, width: 110, fontSize: \"1rem\", fontWeight: 600, margin: 5}} type=\"primary\" danger onClick={handleSaveClick}>Download</Button>\r\n    )\r\n}\r\n\r\nexport default Downloader\r\n","import { Tooltip } from 'antd'\r\nimport React from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { WEAPONS } from '../../data/constant'\r\nimport { stylemark } from '../../util/commonComponent'\r\nimport { ImageWrapper } from '../../util/styles'\r\n\r\n/**\r\n * CharacterTableView\r\n * CharacterTable의 단위 Component입니다.\r\n * \r\n * @param info  해당하는 캐릭터의 json data (+ 보유 정보)\r\n */\r\nconst CharacterTableView:React.FC<CharacterTableViewProps> = (info) => {\r\n\r\n    // intl load\r\n    const { formatMessage } = useIntl()\r\n    \r\n    // Tooltip에 표시하기 위해 무기 값을 추출\r\n    const weapon = WEAPONS[info.category%10]\r\n\r\n    return (\r\n        <Tooltip title={`${formatMessage({id: info.code})}${info.style !== \"4.5\" ? \" \" + info.style.toUpperCase() : \"\"}\r\n                       - ${formatMessage({id: info.sky})}, ${formatMessage({id: weapon})}`}>\r\n            <ImageWrapper>\r\n                {stylemark(info)}\r\n                <img className={!info.have ? \"gray\" : \"\"} alt=\"select\" src={`images/character/${info.id}.png`} width={60}/>\r\n            </ImageWrapper>\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\nexport default CharacterTableView\r\n","import { Button, Modal } from 'antd';\r\nimport React, { useContext, useState } from 'react'\r\nimport { useIntl } from 'react-intl';\r\nimport { AnotherContext } from '../../contexts';\r\nimport { ELEMENTS, WEAPONS } from '../../data/constant';\r\nimport CharacterTableView from '../atoms/CharacterTableView';\r\nimport Downloader from '../atoms/Downloader';\r\n\r\n/**\r\n * CharacterTable\r\n * \r\n * 캐릭터 보유 현황을 테이블로 보여주는 Component입니다.\r\n * 5성 캐릭터만 표시합니다.\r\n */\r\nfunction CharacterTable() {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { inven, select_char_data, version } = useContext(AnotherContext)\r\n\r\n    /**\r\n     * @param isModalVisible    모달의 보임 여부\r\n     */\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button style={{ height: \"35px\", width: \"110px\", fontSize: \"0.9rem\", fontWeight: 600, margin: 5}} \r\n            onClick={showModal} type='dashed' shape='round' >Table View</Button>\r\n            <Modal title=\"Table\" visible={isModalVisible} onCancel={handleCancel} width=\"85%\"\r\n            okButtonProps={{ style: { display: 'none' } }}>\r\n                <b>{formatMessage({id: \"tableinfo\"})}</b>\r\n                <br/>\r\n                <Downloader tag='chartable'/>\r\n                <div style={{margin:\"20px 0 0 0\", overflowX: \"scroll\"}}>\r\n                    <table style={{minWidth: \"1280px\", margin: \"0 auto\", maxWidth: \"1280px\", backgroundColor:\"white\", whiteSpace: \"normal\"}} id=\"chartable\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{width: 70}}></th>\r\n                                {ELEMENTS.slice(1).map((element, idx) => (\r\n                                    <th key={idx}>\r\n                                        {element === \"lunatic\" ? <>\r\n                                            <b style={{fontSize:\"1.2rem\"}}>Lunatic + </b>\r\n                                        </> : null}\r\n                                        <img style={{width: 50}} src={`images/category/${element}.png`} alt={element}/>\r\n                                    </th>\r\n                                ))}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {WEAPONS.slice(1).map((weapon, idx) => (\r\n                                <tr key={idx}>\r\n                                    <td>\r\n                                        <img style={{width: 50}} src={`images/category/${weapon}.png`} alt={weapon}/>\r\n                                    </td>\r\n                                    {ELEMENTS.slice(1).map((element, idx2) => (\r\n                                        <td key={idx2} className={(idx+idx2)%2===1 ? \"odd\" : \"even\"} style={{padding:\"5px 0 5px 0\"}}>\r\n                                            {select_char_data.filter(a => idx2+1 === Math.floor(a.category/10) && idx+1 === a.category%10)\r\n                                            .filter(a => a.style !== \"4.5\")\r\n                                            .filter(e => version===\"japanese\" || !e.jonly)\r\n                                            .map((d) => (\r\n                                                <CharacterTableView key={d.id} {...d} have={inven.includes(d.id)}/>\r\n                                            ))}\r\n                                        </td>\r\n                                    ))}\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CharacterTable\r\n","import React from 'react'\r\nimport Downloader from '../atoms/Downloader'\r\nimport CharacterTable from '../molecules/CharacterTable'\r\n\r\n/**\r\n * ResultManager\r\n * \r\n * 결과를 관리하는 Component입니다.\r\n * 이미지 다운로더와 Table View로 구성되어 있습니다.\r\n */\r\nfunction ResultManager() {\r\n    return (\r\n        <div style={{display:\"flex\", flexWrap: \"wrap\", alignItems:\"center\", justifyContent: \"center\", marginBottom: '20px'}}>\r\n            <Downloader tag='checkresult'/>\r\n            <CharacterTable/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResultManager\r\n","import { Collapse, Row, Col, Divider } from 'antd';\r\nimport React, { useContext } from 'react'\r\nimport { useIntl } from 'react-intl';\r\nimport { AnotherContext } from '../../contexts'\r\nimport { ELEMENTS, STYLES } from '../../data/constant';\r\nimport { directButtonLink } from '../../util/commonComponent';\r\nimport { PageWrapper } from '../../util/styles';\r\nimport CharacterResult from '../atoms/CharacterResult';\r\nimport ResultManager from '../organisms/ResultManager';\r\n\r\nconst { Panel } = Collapse;\r\n\r\n/**\r\n * ResultPage\r\n * \r\n * 체크리스트를 토대로 여러 유용한 결과를 표시해 줍니다.\r\n */\r\nfunction ResultPage() {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { select_char_data, char_codes, inven, version } = useContext(AnotherContext)\r\n\r\n    // result_char_data : 단어순 + 속성 정렬\r\n    const result_char_data = [...select_char_data].sort(function(a, b) {\r\n      return formatMessage({id: a.code}) < formatMessage({id: b.code}) ? -1 \r\n           : formatMessage({id: a.code}) > formatMessage({id: b.code}) ? 1 : 0;\r\n    }).sort(function(a, b) {\r\n      return Math.floor(a.category/10) - Math.floor(b.category/10)\r\n    });\r\n    \r\n    /**\r\n     * @param MyCharacter: 가지고 있는 캐릭터의 정보. 출시되지 않은 데이터가 있는 경우 제외시킨다.\r\n     */\r\n    const MyCharacter: CharacterInfo[] = result_char_data.filter(info => inven.includes(info.id))\r\n    .filter(e => {\r\n        if(version===\"japanese\") return !e.gonly\r\n        else return !e.jonly\r\n    })\r\n\r\n    // 명함도 없는 캐릭터를 계산하는 함수 (배포 여부에 따라)\r\n    const renderNo = (free: boolean) => {\r\n        // 1.   없는 캐릭터들의 코드 배열을 계산\r\n        const parsedCodes = char_codes.filter(code => !MyCharacter.map(a => a.code).includes(code))\r\n\r\n        // 2.   배열 필터링 : 맨 첫 번째고, 배포 여부가 설정된 값과 같은 경우를 반환 \r\n        //      + 출시되지 않은 데이터가 있는 경우 제외시킨다.\r\n        const parsedData = result_char_data.filter(info => parsedCodes.includes(info.code) && info.first && info.free === free)\r\n        .filter(e => {\r\n            if(version===\"japanese\") return !e.gonly\r\n            else return !e.jonly\r\n        })\r\n\r\n        return parsedData.map((info, index) => (\r\n            <CharacterResult key={index} {...info}/>\r\n        ))\r\n    }\r\n\r\n    // 4.5성만 있는 캐릭터를 계산하는 함수 (배포 여부에 따라)\r\n    const render45 = (free: boolean) => {\r\n        // 1.   4.5성만 있는 캐릭터들의 코드 배열을 계산\r\n        const parsedCodes = char_codes.filter(code => JSON.stringify(MyCharacter.filter(a => a.code===code).map(a => a.style)) === `[\"4.5\"]`)\r\n        \r\n        // 2.   배열 필터링 : 배포 여부가 설정된 값과 같은 경우를 반환 \r\n        //      + 출시되지 않은 데이터가 있는 경우 제외시킨다.\r\n        const parsedData = MyCharacter.filter(info => parsedCodes.includes(info.code) && info.free === free)\r\n        .filter(e => {\r\n            if(version===\"japanese\") return !e.gonly\r\n            else return !e.jonly\r\n        })\r\n\r\n        return parsedData.map((info, index) => (\r\n            <CharacterResult key={index} {...info}/>\r\n        ))\r\n    }\r\n\r\n    // 클래스 체인지 가능 캐릭터를 계산하는 함수 (스타일에 따라)\r\n    const renderCC = (style: string) => {\r\n        // 1. 가지고 있는 캐릭터들의 CC 목록을 전부 합친다.\r\n        let tempIds = [] as number[]\r\n        MyCharacter.forEach((a) => {\r\n            tempIds = tempIds.concat(a.change)\r\n        })\r\n\r\n        // 2. 인벤에 없고 스타일이 설정된 값과 같은 경우를 반환 \r\n        const parsedIds = Array.from(new Set(tempIds)).filter(id => !inven.includes(id))\r\n        const parsedData = result_char_data.filter(info => info.style===style && parsedIds.includes(info.id))\r\n\r\n        return parsedData.map((info, index) => (\r\n            <CharacterResult key={index} {...info}/>\r\n        ))\r\n    }\r\n\r\n    // 속성별 보유 캐릭터를 계산하는 함수\r\n    const renderElement = (element: number) => {\r\n        // 4.5성은 제외\r\n        const parsedData = MyCharacter.filter(info => element === Math.floor(info.category/10) && info.style !== \"4.5\")\r\n\r\n        return parsedData.map((info, index) => (\r\n            <CharacterResult key={index} {...info}/>\r\n        ))\r\n    }\r\n    \r\n\r\n    return (\r\n        <PageWrapper style={{maxWidth: \"1100px\"}}>\r\n            {directButtonLink(\"/\", \"Back to Checklist\")}\r\n            <Divider style={{margin: 5}}/>\r\n            <ResultManager/>\r\n            <div id=\"checkresult\">\r\n                <Collapse defaultActiveKey={['1', '2', '3', '4']} style={{fontSize: \"1rem\", fontWeight: 600}}>\r\n                    <Panel header={`${formatMessage({id: \"resultmenu1\"})} (${renderNo(false).length} + ${renderNo(true).length})`} key=\"1\">\r\n                        <Row justify=\"center\" align=\"middle\" style={{marginBottom:\"30px\"}}>\r\n                            <Col xs={24} sm={4}><b>Not Free</b></Col>\r\n                            <Col xs={23} sm={20}>{renderNo(false)}</Col>\r\n                            <Divider style={{margin: 15}}/>\r\n                            <Col xs={24} sm={4}><b>Free</b></Col>\r\n                            <Col xs={23} sm={20}>{renderNo(true)}</Col>\r\n                        </Row>\r\n                    </Panel>\r\n                    <Panel header={`${formatMessage({id: \"resultmenu2\"})} (${render45(false).length} + ${render45(true).length})`} key=\"2\">\r\n                        <Row justify=\"center\" align=\"middle\" style={{marginBottom:\"30px\"}}>\r\n                            <Col xs={24} sm={4}><b>Not Free</b></Col>\r\n                            <Col xs={23} sm={20}>{render45(false)}</Col>\r\n                            <Divider style={{margin: 15}}/>\r\n                            <Col xs={24} sm={4}><b>Free</b></Col>\r\n                            <Col xs={23} sm={20}>{render45(true)}</Col>\r\n                        </Row>\r\n                    </Panel>\r\n                    <Panel header={formatMessage({id: \"resultmenu3\"})} key=\"3\">\r\n                        <Row align=\"middle\" justify=\"center\" style={{marginTop: \"5px\"}}>\r\n                            {STYLES.slice(1).map(style => (\r\n                                <React.Fragment key={style}>\r\n                                    <Col xs={24} sm={4}>\r\n                                        <img src={`images/category/${style}.png`} alt={style} width=\"40\"/>\r\n                                    </Col>\r\n                                    <Col xs={23} sm={20} style={{textAlign: \"left\", marginBottom:\"5px\"}}>\r\n                                        {renderCC(style)}\r\n                                    </Col>\r\n                                    {style !== \"es\" ? <Divider style={{margin: 15}}/> : null}\r\n                                </React.Fragment>\r\n                            ))}     \r\n                        </Row>\r\n                    </Panel>\r\n                    <Panel header={formatMessage({id: \"resultmenu4\"})} key=\"4\">\r\n                        {ELEMENTS.slice(1).map((element, idx) => (\r\n                            <Row key={idx} align=\"middle\" justify=\"center\" style={{marginBottom:\"5px\"}}>\r\n                                <Col xs={24} sm={4}>\r\n                                    {element === \"etc\" ? <>\r\n                                        <b>Lunatic</b><br/>\r\n                                        <b>+</b><br/>\r\n                                    </> : null}\r\n                                    <img alt={element} src={`images/category/${element}.png`} width=\"40\"/>\r\n                                </Col>\r\n                                <Col xs={23} sm={20} style={{textAlign: \"left\"}}>\r\n                                    {renderElement(idx+1)}\r\n                                </Col>\r\n                                {element !== \"etc\" ? <Divider style={{margin: \"15px auto\"}}/> : null}\r\n                            </Row>\r\n                        ))}\r\n                    </Panel>\r\n                </Collapse>\r\n            </div>\r\n        </PageWrapper>\r\n    )\r\n}\r\n\r\nexport default ResultPage\r\n","import React, { useContext, useState } from 'react'\r\nimport { Input, Button, Table } from 'antd'\r\nimport { AnotherContext } from '../../contexts';\r\nimport { useIntl } from 'react-intl';\r\nimport { FlexColumnCenterDiv, PageWrapper } from '../../util/styles';\r\n\r\nconst { Search } = Input;\r\n\r\n/**\r\n * BookPage\r\n * \r\n * 직업서를 검색하는 페이지입니다.\r\n */\r\nfunction BookPage() {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { select_char_data } = useContext(AnotherContext)\r\n\r\n    /**\r\n     * @param dungeon_link_data: 던전 이름과 알테마 링크를 매칭시킨 데이터\r\n     * @param SearchName : 검색어\r\n     */ \r\n    const dungeon_link_data: Array<DungeonLinkInfo> = require(\"../../data/dungeon.json\")\r\n    const [SearchName, setSearchName] = useState(\"\")\r\n\r\n    const HandleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchName(e.target.value);\r\n    }\r\n\r\n    // 설정값에 따라 데이터를 filter. 이름 또는 직업서 둘 중 하나만 해당되면 된다.\r\n    const filtered = select_char_data.filter(e => e.book !== \"없음\")\r\n    .filter(e => SearchName===\"\" \r\n        || (formatMessage({id: e.code}) + `(${e.style})`).toLowerCase().includes(SearchName.toLowerCase()) \r\n        || formatMessage({id: e.book}).toLowerCase().includes(SearchName.toLowerCase())\r\n    )\r\n\r\n    const columns = [\r\n        {\r\n          title: formatMessage({id: \"name\"}),\r\n          dataIndex: 'name',\r\n          key: 'name',\r\n          align: 'center' as 'center',\r\n          width: 100\r\n        },\r\n        {\r\n          title: formatMessage({id: \"books\"}),\r\n          dataIndex: 'book',\r\n          key: 'book',\r\n          align: 'center' as 'center',\r\n          width: 150\r\n        },\r\n        {\r\n          title: formatMessage({id: \"source\"}),\r\n          dataIndex: 'source',\r\n          key: 'source',\r\n          align: 'center' as 'center',\r\n        },\r\n    ];\r\n\r\n    const datasets = filtered.map((info, index) => ({\r\n        name: <FlexColumnCenterDiv>\r\n            <img alt=\"select\" src={`images/character/${info.id}.png`} width={50}/>\r\n            <b style={ SearchName!==\"\" && (formatMessage({id: info.code}) + `(${info.style})`).toLowerCase().includes(SearchName.toLowerCase()) ? {\r\n                color: \"red\"\r\n            } : undefined}>\r\n                {(formatMessage({id: info.code}) + `(${info.style.toUpperCase()})`)}\r\n            </b>\r\n        </FlexColumnCenterDiv>,\r\n        book: <b style={ SearchName!==\"\" && formatMessage({id: info.book}).toLowerCase().includes(SearchName.toLowerCase()) ? {\r\n            color: \"red\"\r\n        } : undefined}>\r\n            {formatMessage({id: info.book})}\r\n        </b>,\r\n        source: <div style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\"\r\n        }}>\r\n            {info.book_get.map((g, index) => (\r\n                [\"이절\", \"개전\", \"경전록\"].includes(g) ? <b key={index}>{formatMessage({id: g})}</b> : \r\n                <a href={`https://altema.jp/anaden/${dungeon_link_data.find(a => a.name === g)?.endpoint}`} rel=\"noreferrer\" target=\"_blank\" key={index}>\r\n                    <Button style={{fontSize: '12px', margin: '1px'}}>{formatMessage({id: g})}</Button>\r\n                </a>\r\n            ))}\r\n        </div>\r\n    }))\r\n\r\n    return (\r\n        <PageWrapper  style={{maxWidth: \"900px\", alignItems: \"center\"}}>\r\n            <Search \r\n                style={{width:\"250px\", margin: \"0.2rem 8px 1rem 8px\"}} \r\n                placeholder={`${formatMessage({id: \"name\"})}, ${formatMessage({id: \"books\"})}`}\r\n                value={SearchName} \r\n                onChange={HandleChange}\r\n                enterButton\r\n                allowClear\r\n            />\r\n            <Table dataSource={datasets} columns={columns} size=\"small\" pagination={{ position: [\"topLeft\", \"bottomLeft\"] }}/>\r\n        </PageWrapper>\r\n    )\r\n}\r\n\r\nexport default BookPage","import { ExclamationOutlined } from '@ant-design/icons'\r\nimport { AutoComplete, Button, Popover, Table, Tag } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { FlexColumnCenterDiv, PageWrapper } from '../../util/styles'\r\n\r\nconst colors = [\"magenta\", \"volcano\", \"gold\", \"green\", \"cyan\", \"blue\", \"purple\"]\r\n\r\n/**\r\n * PersonalPage\r\n * \r\n * 캐릭터 특성을 검색하는 페이지입니다.\r\n */\r\nfunction PersonalPage() {\r\n\r\n    // intl load\r\n    const { formatMessage } = useIntl()\r\n    \r\n    /**\r\n     * @param person_data: 퍼스널리티 데이터\r\n     * @param Search : 퍼스널리티 검색 목록\r\n     * @param Input : 검색어\r\n     */ \r\n    const person_data: Array<PersonalityInfo> = require(\"../../data/personality.json\")\r\n    const [Search, setSearch] = useState([] as string[])\r\n    const [Input, setInput] = useState(\"\")\r\n\r\n    const personalities = () => {\r\n        let data: string[] = []\r\n        person_data.forEach(a => {\r\n            data = data.concat(a.personality)\r\n        })\r\n        return Array.from(new Set(data)).map(a => ( \r\n          { name: a,  value : formatMessage({id: a}) } \r\n      ))\r\n    }\r\n\r\n    // filtering\r\n    const filtered = person_data.filter(item => {\r\n        let temp = true;\r\n        Search.forEach(b => {\r\n            if(item.personality.indexOf(b) === -1)\r\n                temp = false;\r\n        })\r\n        return temp;\r\n    })\r\n\r\n    // 엔터 시 자동완성 (불완전)\r\n    const onKeyDown = (e: React.KeyboardEvent<HTMLDivElement> | React.ChangeEvent<HTMLDivElement>) => {\r\n        const {key} = (e as React.KeyboardEvent<HTMLInputElement>)\r\n        const {target} = (e as React.ChangeEvent<HTMLInputElement>)\r\n        if(key === \"Enter\") {\r\n            const arr = personalities().filter(a => a.value.toUpperCase().includes(target.value.toUpperCase()))\r\n            if(arr.length > 0) {\r\n                setSearch(Array.from(new Set([...Search, arr[0].name])))\r\n                setInput(\"\")\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleClose = (tag: string) => {\r\n        setSearch(Search.filter(item => item !== tag))\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n          title: formatMessage({id: \"name\"}),\r\n          dataIndex: 'name',\r\n          key: 'name',\r\n          align: 'center' as 'center',\r\n          width: 100\r\n        },\r\n        {\r\n          title: formatMessage({id: \"personality\"}),\r\n          dataIndex: 'personality',\r\n          key: 'personality',\r\n          align: 'center' as 'center',\r\n          width: 200\r\n        },\r\n        {\r\n          title: \"\",\r\n          dataIndex: 'description',\r\n          key: 'description',\r\n          align: 'center' as 'center',\r\n        }\r\n    ];\r\n\r\n    const datasets = filtered.map((info, index) => {\r\n      return {\r\n        name: <FlexColumnCenterDiv>\r\n            <img alt=\"select\"\r\n                    src={`images/personality/${info.name}${info.is_extra ? \"(ES)\" : \"\"}.png`} \r\n                style={{width:50, borderRadius:3 }}/>\r\n            <b>\r\n                {formatMessage({id: info.name}) + (info.is_extra ? \"(ES)\" : \"\")}\r\n            </b>\r\n        </FlexColumnCenterDiv>,\r\n        personality: <FlexColumnCenterDiv>\r\n            <div>\r\n              {info.personality.map((a,index) => (\r\n                  <Tag style={{margin: '1px'}} color={colors[index%7]} key={index}>{formatMessage({id: a})}</Tag>\r\n              ))}\r\n            </div>\r\n        </FlexColumnCenterDiv>,\r\n        description: info.description ? <Popover content={<b style={{color: 'red'}}>{info.description}</b>}>\r\n            <Button type=\"default\" shape='circle' danger icon={<ExclamationOutlined />}/>\r\n        </Popover> : null \r\n      }\r\n    })\r\n\r\n  return (\r\n        <PageWrapper  style={{maxWidth: \"900px\", alignItems: \"center\"}}>\r\n            <div style={{display: 'flex', maxWidth: '400px', flexWrap: 'wrap', margin: '10px 10px 10px 10px'}}>\r\n                {Search.map((a, index) => (\r\n                    <Tag style={{margin: '1px'}} color={colors[index%7]} key={index} closable \r\n                    onClose={(e) => {\r\n                        e.preventDefault()\r\n                        handleClose(a)\r\n                    }}>\r\n                        {formatMessage({id: a})}\r\n                    </Tag>\r\n                ))}\r\n            </div>            \r\n            <AutoComplete\r\n                style={{ width: 250, marginBottom: '30px'}}\r\n                options={personalities()}\r\n                value={Input}\r\n                filterOption={(inputValue, option) =>\r\n                    option?.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\r\n                }\r\n                placeholder={formatMessage({id: \"personality\"})}\r\n                onChange={(value: string) => setInput(value)}\r\n                onSelect={(value: string) => {\r\n                    const b = personalities().filter(a => a.value.toUpperCase() === value.toUpperCase()).map(a => a.name)\r\n                    setSearch(Array.from(new Set([...Search, ...b])))\r\n                    setInput(\"\")\r\n                }}\r\n                onKeyDown={onKeyDown}\r\n            />\r\n            <Table dataSource={datasets} columns={columns} size=\"small\" pagination={{ position: [\"topLeft\", \"bottomLeft\"] }} style={{\r\n                minWidth: 300\r\n            }}/>\r\n        </PageWrapper>\r\n  )\r\n}\r\n\r\nexport default PersonalPage","import { MinusOutlined, PlusOutlined } from '@ant-design/icons'\r\nimport { Button, Progress } from 'antd'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { AnotherContext } from '../../contexts'\r\nimport { GLO_MANIFEST_NEW, JAP_MANIFEST_NEW } from '../../data/config'\r\nimport { MANIFEST_STEPS } from '../../data/constant'\r\nimport { stylemark } from '../../util/commonComponent'\r\nimport { FlexColumnCenterDiv, ImageWrapper } from '../../util/styles'\r\n\r\n/**\r\n * CharacterManifest\r\n * 캐릭터의 현현 진행도를 나타내는 Component입니다.\r\n * \r\n * @param info  해당하는 캐릭터의 json data\r\n */\r\nconst CharacterManifest:React.FC<CharacterInfo> = (info) =>  {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { manifest, changeManifest, version } = useContext(AnotherContext)\r\n    \r\n    /**\r\n     * @param maxStep       버전에 따른 현현 최대 진행도\r\n     * @param currentStep   현재 현현 진행도\r\n     */\r\n    const maxStep = version===\"japanese\" ? MANIFEST_STEPS.indexOf(info.manifest_jap) : MANIFEST_STEPS.indexOf(info.manifest_glo)\r\n    const [currentStep, setCurrentStep] = useState(Math.min(maxStep, Math.floor(manifest.filter(a => a%10000 === info.id)[0]/10000)) || 0)\r\n\r\n    useEffect(() => {\r\n        if (maxStep < currentStep) setCurrentStep(maxStep)\r\n    }, [maxStep, currentStep])\r\n    \r\n\r\n    const onMinus = () => {\r\n        const newStep = Math.max(0, currentStep-1)\r\n        changeManifest(newStep, info.id)\r\n        setCurrentStep(newStep)\r\n    } \r\n\r\n    const onPlus = () => {\r\n        const newStep = Math.min(maxStep, currentStep+1)\r\n        changeManifest(newStep, info.id)\r\n        setCurrentStep(newStep)\r\n    } \r\n\r\n    // 새로 현현이 있는 캐릭터 강조표시\r\n    const target_chars = version===\"japanese\" ? JAP_MANIFEST_NEW : GLO_MANIFEST_NEW\r\n    const color = target_chars.includes(info.id) ? \"red\" : \"lightblue\"\r\n\r\n    return (\r\n        <FlexColumnCenterDiv\r\n            style={{\r\n                width: \"100%\",\r\n                padding: \"5px\", \r\n                margin: '1px auto', \r\n                border: `2px solid ${color}`,\r\n                borderRadius: \"5px\"\r\n            }}\r\n        >\r\n            <b>\r\n                {formatMessage({id: info.code})}({info.style.toUpperCase()})\r\n                {color===\"red\" ? <b style={{color: \"red\"}}> (Update!)</b> : null}\r\n            </b>\r\n            <ImageWrapper>\r\n                {stylemark(info)}\r\n                <img alt=\"select\" src={`images/character/${info.id}.png`} width={60}/>\r\n            </ImageWrapper>\r\n            <Progress percent={100*currentStep/maxStep} style={{width: \"90%\"}}/>\r\n            <div style={{marginTop: 3, width: \"90%\", display: \"flex\", justifyContent: \"space-between\"}}>\r\n                <Button.Group>\r\n                    <Button onClick={onMinus}   icon={<MinusOutlined />} />\r\n                    <Button onClick={onPlus}    icon={<PlusOutlined />} />\r\n                </Button.Group>\r\n                <b style={{margin: \"5px\", fontSize: \"15px\"}}>{currentStep > 0 ? formatMessage({id: MANIFEST_STEPS[currentStep]}) : MANIFEST_STEPS[currentStep]}</b>\r\n            </div>\r\n        </FlexColumnCenterDiv>\r\n    )\r\n}\r\n\r\nexport default CharacterManifest","import { Button, Collapse, Divider, Popconfirm } from 'antd';\r\nimport React, { useContext } from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { AnotherContext } from '../../contexts'\r\nimport { MANIFEST_STEPS } from '../../data/constant';\r\nimport { directButtonLink, emptyImage } from '../../util/commonComponent';\r\nimport { new_manifest_to_top } from '../../util/function';\r\nimport { GridDiv, PageWrapper } from '../../util/styles';\r\nimport CharacterManifest from '../atoms/CharacterManifest';\r\nimport CharacterResult from '../atoms/CharacterResult';\r\n\r\nconst { Panel } = Collapse;\r\n\r\n/**\r\n * ManifestPage\r\n * \r\n * 체크리스트를 토대로 현현 도감을 표시해 줍니다.\r\n */\r\nfunction ManifestPage() {\r\n\r\n    // intl, context load\r\n    const { formatMessage } = useIntl()\r\n    const { inven, manifest, setManifest, select_char_data, version } = useContext(AnotherContext)\r\n\r\n    \r\n    // result_char_data : 단어순 + 속성 정렬\r\n    const result_char_data = [...select_char_data].sort(function(a, b) {\r\n      return formatMessage({id: a.code}) < formatMessage({id: b.code}) ? -1 \r\n           : formatMessage({id: a.code}) > formatMessage({id: b.code}) ? 1 : 0;\r\n    }).sort(function(a, b) {\r\n      return Math.floor(a.category/10) - Math.floor(b.category/10)\r\n    });\r\n\r\n    /**\r\n     * @param MyCharacter: 가지고 있는 캐릭터의 정보. 출시되지 않은 데이터가 있는 경우 제외시킨다.\r\n     */\r\n    const MyCharacter: CharacterInfo[] = result_char_data.filter(info => inven.includes(info.id))\r\n    .filter(e => {\r\n        if(version===\"japanese\") return !e.gonly\r\n        else return !e.jonly\r\n    })\r\n\r\n    // 클래스 체인지 가능 캐릭터 id 배열을 계산하는 함수\r\n    const render_cc_id = () => {\r\n        let tempIds = [] as number[]\r\n        MyCharacter.forEach((a) => {\r\n            tempIds = tempIds.concat(a?.change || [])\r\n        })\r\n        return Array.from(new Set(tempIds)).filter(id => !inven.includes(id))\r\n    }\r\n\r\n    // 현현 상태를 반환하는 함수\r\n    const get_manifest_status = (target: CharacterInfo) => {\r\n        // 1. 해당 캐릭터가 있으면 끝\r\n        if (inven.includes(target.id)) return \"ok\"\r\n        \r\n        if (target.style !== \"ns\") {\r\n            // 2-1. ns가 아닌 경우 CC가 가능하면 끝.\r\n            if (render_cc_id().includes(target.id)) return \"manifest_error2\" // 클래스 체인지가 필요합니다.\r\n            else return \"manifest_error3\" // 캐릭터를 보유하고 있지 않습니다.\r\n        } else {\r\n            // 2-2. ns인 경우 스타일을 다 봐야함.\r\n            const styles = MyCharacter.filter(a => a.code === target.code).map(a => a.style)\r\n            if (!styles.includes(\"4.5\")) {\r\n                // 4.5가 없으면 CC or 보유하지 않은 것\r\n                return render_cc_id().includes(target.id) ? \"manifest_error2\" : \"manifest_error3\"\r\n            } else {\r\n                // 4.5가 있고 다른 스타일이 있으면 현현이 가능함. 아니면 CC\r\n                return styles.includes(\"as\") || styles.includes(\"es\") ? \"ok\" : \"manifest_error2\"\r\n            }\r\n        }\r\n    }\r\n\r\n    // 설정값에 따라 데이터를 filter\r\n    const filtered = result_char_data.filter(e => {\r\n        if(version===\"japanese\") return e.manifest_jap !== \"없음\"\r\n        else return e.manifest_glo !== \"없음\"\r\n    })\r\n\r\n    new_manifest_to_top(filtered, version)\r\n\r\n    // 현현 완료 / 미완료 목록\r\n    const manifest_incomplete = filtered.filter(a => (get_manifest_status(a) === \"ok\"))\r\n    .filter(a => {\r\n        const steps = version===\"japanese\" ? MANIFEST_STEPS.indexOf(a.manifest_jap) : MANIFEST_STEPS.indexOf(a.manifest_glo)\r\n        return (manifest.find(b => b%10000 === a.id) || 0) < steps*10000 + a.id\r\n    })\r\n    const manifest_complete = filtered.filter(a => (get_manifest_status(a) === \"ok\"))\r\n    .filter(a => {\r\n        const steps = version===\"japanese\" ? MANIFEST_STEPS.indexOf(a.manifest_jap) : MANIFEST_STEPS.indexOf(a.manifest_glo)\r\n        return (manifest.find(b => b%10000 === a.id) || 0) >= steps*10000 + a.id\r\n    })\r\n\r\n    // 현현 All Clear 메시지\r\n    const manifestMessage = <div>\r\n        <h3>{formatMessage({id: \"manifest_message\"})}</h3>\r\n        {manifest_incomplete.map((info, index) => (\r\n            <CharacterResult key={index} {...info}/>\r\n        ))}\r\n    </div>\r\n\r\n    // 미완료된 모든 현현을 완료 처리하는 함수\r\n    const clearAll = () => {\r\n        const new_manifests = manifest_incomplete.map(info => {\r\n            const maxStep = version===\"japanese\" ? MANIFEST_STEPS.indexOf(info.manifest_jap) : MANIFEST_STEPS.indexOf(info.manifest_glo)\r\n            return maxStep*10000 + info.id\r\n        })\r\n        const filtered_manifests = manifest.filter(a => !manifest_incomplete.map(info => info.id).includes(a%10000))\r\n        const total_manifests = [...filtered_manifests, ...new_manifests]\r\n        window.localStorage.setItem(\"a_man\", total_manifests.join(\",\"))\r\n        setManifest(total_manifests)\r\n    }\r\n\r\n    return (\r\n        <PageWrapper style={{maxWidth: \"1200px\"}}>\r\n            {directButtonLink(\"/\", \"Back to Checklist\")}\r\n            <Divider style={{margin: 5}}/>\r\n            <Popconfirm\r\n                title={manifestMessage}\r\n                onConfirm={clearAll}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n            >\r\n                <Button shape='round' style={{ height: 35, width: 110, fontSize: \"1rem\", fontWeight: 600, margin: \"5px auto\"}} type=\"primary\" danger>ALL CLEAR</Button>\r\n            </Popconfirm>\r\n            <GridDiv>\r\n                {manifest_incomplete.length > 0 ? manifest_incomplete.map(info => <CharacterManifest key={info.id} {...info}/>) : emptyImage}\r\n            </GridDiv>\r\n            <Collapse defaultActiveKey={['3', \"4\"]} style={{fontSize: \"1rem\", fontWeight: 600}}>\r\n                <Panel header=\"Complete\" key=\"2\">\r\n                    <GridDiv>\r\n                        {manifest_complete.length > 0 ? manifest_complete.map(info => <CharacterManifest key={info.id} {...info}/>) : emptyImage}\r\n                    </GridDiv>\r\n                </Panel>\r\n                <Panel header={formatMessage({id: \"manifest_error2\"})} key=\"3\">\r\n                    {filtered.filter(a => get_manifest_status(a) === \"manifest_error2\").map((info, index) => (\r\n                        <CharacterResult key={index} {...info}/>\r\n                    ))}\r\n                </Panel>\r\n                <Panel header={formatMessage({id: \"manifest_error3\"})} key=\"4\">\r\n                    {filtered.filter(a => get_manifest_status(a) === \"manifest_error3\").map((info, index) => (\r\n                        <CharacterResult key={index} {...info}/>\r\n                    ))}\r\n                </Panel>\r\n            </Collapse>\r\n        </PageWrapper>\r\n    )\r\n}\r\n\r\nexport default ManifestPage","import React, { useContext, useEffect} from 'react';\nimport { IntlProvider } from 'react-intl';\nimport Swal from 'sweetalert2';\nimport { AnotherContext } from './contexts';\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport Sidebar from './components/organisms/Sidebar';\nimport MainPage from './components/pages/MainPage';\nimport ResultPage from './components/pages/ResultPage';\nimport BookPage from './components/pages/BookPage';\nimport { BackTop } from 'antd';\nimport PersonalPage from './components/pages/PersonalPage';\nimport ManifestPage from './components/pages/ManifestPage';\nimport { JAP_VER } from './data/config';\n\nconst announceHTML = `<div class=\"announce\">\n  Up to GLOBAL 2.11.700, JAP ${JAP_VER}\n  <br/>\n  <br/>\n  자세한 사항은 링크를 확인해 주세요. \n  <br/>\n  Please Check following link.\n  <br/>\n  <a href=\"https://aecheck.tistory.com/12\" target=\"_blank\" rel=\"noreferrer\">Patch Note</a>\n</div>`\n\nfunction App() {\n\n  const announceViewed = Boolean(window.localStorage.getItem(\"a_v_220527\"))\n\n  const { lang } = useContext(AnotherContext)\n  const message = require(`./language/${lang}.json`)\n\n  useEffect(() => {\n    window.localStorage.removeItem(\"a_v_220519\")\n    if(!announceViewed) {\n      Swal.fire({\n        title: 'Update - 22.05.27',\n        html: announceHTML,\n        icon: 'success',\n      }).then(() => {\n        window.localStorage.setItem(\"a_v_220527\", \"true\")\n      })\n    }\n  }, [announceViewed])\n\n  return (\n    <IntlProvider messages={message} locale={lang} defaultLocale='ko'>\n      <Router basename=\"/anothercharcheck\">\n          <Sidebar/>\n          <Routes>\n              <Route path=\"/\" element={<MainPage/>} />\n              <Route path=\"/result\" element={<ResultPage/>} />\n              <Route path=\"/books\" element={<BookPage/>} />\n              <Route path=\"/person\" element={<PersonalPage/>} />\n              <Route path=\"/manifest\" element={<ManifestPage/>} />\n          </Routes>\n      </Router>\n      <BackTop/>\n    </IntlProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport App from './App';\nimport { AnotherProvider } from './contexts';\nimport ReactGA from 'react-ga';\n\n// Analytics 적용(?)\nReactGA.initialize('UA-190586417-2');\nReactGA.pageview(window.location.pathname + window.location.search);\n\nReactDOM.render(\n  <React.StrictMode>\n    <AnotherProvider>\n      <App />\n    </AnotherProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}